<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search Results - BlkPages (New)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0A0A0A;
        }

        .gold-gradient-text {
            background: linear-gradient(90deg, #FFD35C, #D4AF37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-gradient-bg {
             background: radial-gradient(circle at center, rgba(212,175,55,0.35) 0%, rgba(212,175,55,0.15) 35%, #0A0A0A 80%);
        }
        
        .connect-gradient-bg {
             background: linear-gradient(180deg, #1A1A1A 0%, #0A0A0A 100%);
        }
        
        .cta-gradient-bg {
             background: linear-gradient(to bottom, #0a0a0a, #1a1a1a);
        }
        
        .gold-gradient-button {
             background: linear-gradient(90deg, #ffcc00, #ffb700);
        }
        
        .gold-gradient-button-hover:hover {
             background: linear-gradient(90deg, #ffb700, #ffd700);
        }

        /* ===============================
           ðŸ–‹ BLKPAGES SEARCH SUBTEXT STYLE
           =============================== */

        .search-subtext {
         margin-top: 35px; /* increased spacing below search bar */
         display: flex;
         justify-content: center;
         align-items: center;
         flex-wrap: wrap;
         gap: 6px;
         font-size: 0.95rem;
         color: #CFCFCF; /* text colour */
         font-weight: 500;
         letter-spacing: 0.2px;
         text-align: center;
        }

        .search-subtext i {
         color: #FFD700; /* icon gold */
         font-size: 1rem;
        }

        /* Gold separator dot */
        .dot-separator {
         color: #D4AF37;
         padding: 0 6px;
        }

        /* âœ¨ Optional subtle pulse animation for icons */
        @keyframes goldPulse {
         0% { opacity: 0.7; transform: scale(1); }
         50% { opacity: 1; transform: scale(1.1); }
         100% { opacity: 0.7; transform: scale(1); }
        }

        .search-subtext i {
         animation: goldPulse 3s ease-in-out infinite;
        }

        /* ðŸ“± Responsive for mobile */
        @media (max-width: 600px) {
         .search-subtext {
           flex-direction: column;
           gap: 4px;
           font-size: 0.9rem;
           margin-top: 25px; /* smaller space on mobile */
         }
         .dot-separator {
           display: none;
         }
        }

        /* Navigation Styles */
        .nav-link {
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #D4AF37 !important;
        }
        
        /* Customer Menu Styles */
        .customer-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            min-width: 150px;
            z-index: 1000;
            margin-top: 0.5rem;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: #ffffff;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dropdown-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body class="text-white">
    <header class="bg-[rgba(10,10,10,0.95)] backdrop-blur-md sticky top-0 z-50 border-b border-[#9C7C2E]">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-3">
                <!-- Logo and Nav Links -->
                <div class="flex items-center gap-8">
                    <a href="index.html" class="text-2xl font-bold text-[#D4AF37] tracking-wide">BlkPages</a>
                    <nav class="hidden md:flex items-center gap-6">
                        <a href="index.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300">Home</a>
                        <a href="search-results.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300">Browse</a>
                        <a href="offers.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300">Offers</a>
                        <a href="preview-test.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300" style="background: linear-gradient(135deg, #FF3CAC, #784BA0); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                            <i class="fas fa-flask mr-1"></i>Preview Test
                        </a>
                        <a href="demo-hub.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300" style="background: linear-gradient(135deg, #3b82f6, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                            <i class="fas fa-cogs mr-1"></i>Demo Hub
                        </a>
                        <a href="dummy-demo.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300" style="background: linear-gradient(135deg, #10B981, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                            <i class="fas fa-rocket mr-1"></i>Demo Showcase
                        </a>
                        <a href="demo/contextual-banners-demo.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300" style="background: linear-gradient(135deg, #F59E0B, #D97706); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                            <i class="fas fa-exclamation-triangle mr-1"></i>Banner Demo
                        </a>
                        <a href="business-profile.html" class="nav-link text-gray-400 hover:text-[#D4AF37] transition-colors duration-300" style="background: linear-gradient(135deg, #10B981, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                            <i class="fas fa-clock mr-1"></i>WLO System
                        </a>
                    </nav>
                </div>

                <!-- Action Buttons -->
                <div class="hidden md:flex items-center gap-4">
                    <!-- Basket Icon -->
                    <div class="basket-icon" id="basketIcon" onclick="scrollToBooking()" style="position: relative; cursor: pointer; padding: 0.5rem; border-radius: 50%; background: rgba(13, 148, 136, 0.1); border: 1px solid rgba(13, 148, 136, 0.3); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px;">
                        <i class="fas fa-shopping-basket" style="color: #0D9488; font-size: 1.2rem;"></i>
                        <span class="basket-count" id="basketCount" style="position: absolute; top: -5px; right: -5px; background: #ff4444; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 600; border: 2px solid #1a1a1a;">0</span>
                    </div>
                    
                    <!-- Sign In / Sign Up (for signed out users) -->
                    <div class="auth-links" id="authLinks" style="align-items: center; gap: 0.5rem;">
                        <button id="loginBtn" class="text-white hover:text-[#D4AF37] transition-colors duration-300 text-sm" onclick="redirectToLogin()">
                            <i class="fas fa-sign-in-alt mr-1"></i>Sign In
                        </button>
                        <span class="text-gray-400">/</span>
                        <a href="#" onclick="redirectToRegister()" class="text-white hover:text-[#D4AF37] transition-colors duration-300 text-sm">
                            <i class="fas fa-user-plus mr-1"></i>Sign Up
                        </a>
                    </div>
                    
                    <!-- Customer Menu (for logged-in users) -->
                    <div class="customer-menu" id="customerMenu" style="display: none; position: relative;">
                        <button class="customer-initial" id="customerInitial" onclick="toggleCustomerMenu()" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #0D9488, #10B981); color: white; border: none; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(13, 148, 136, 0.3);">
                            <span id="customerInitialText">U</span>
                        </button>
                        <div class="customer-dropdown" id="customerDropdown">
                            <a href="customer-dashboard.html" class="dropdown-item">
                                <i class="fas fa-tachometer-alt"></i>
                                Dashboard
                            </a>
                            <a href="customer-dashboard.html" class="dropdown-item" onclick="redirectToAccountTab()">
                                <i class="fas fa-cog"></i>
                                Account Settings
                            </a>
                            <a href="#" onclick="signOut()" class="dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
                                Sign Out
                            </a>
                        </div>
                    </div>
                    
                    <!-- List Business Button -->
                    <a href="business-register.html" class="text-gray-400 hover:text-green-400 transition-colors duration-300 font-medium text-sm">+ List Business</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="menu-btn" class="text-[#D4AF37] focus:outline-none" onclick="toggleMobileMenu()">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <a href="index.html" class="block py-2 text-gray-400 hover:text-[#D4AF37]">Home</a>
                <a href="search-results.html" class="block py-2 text-gray-400 hover:text-[#D4AF37]">Browse</a>
                <a href="offers.html" class="block py-2 text-gray-400 hover:text-[#D4AF37]">Offers</a>
                <a href="preview-test.html" class="block py-2 text-gray-400 hover:text-[#D4AF37]" style="background: linear-gradient(135deg, #FF3CAC, #784BA0); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 600;">
                    <i class="fas fa-flask mr-2"></i>Preview Test
                </a>
                <a href="business-register.html" class="block py-2 text-green-400 hover:text-green-300">
                    <i class="fas fa-plus mr-2"></i>List Business
                </a>
                <a href="#" onclick="redirectToLogin()" class="block py-2 mt-2 text-gray-200 border border-[#9C7C2E] rounded-md text-center hover:bg-[#111111]">Sign In</a>
                <a href="#" onclick="redirectToRegister()" class="block py-2 mt-2 text-black bg-gradient-to-r from-[#FFD35C] to-[#C68B1E] rounded-md text-center hover:opacity-90">Sign Up</a>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="min-h-screen">
        <div class="container mx-auto px-4 py-8">
            <!-- Navigation --><!-- Hero Section with Search --><section><div></div><div><h1><span>Find Your Perfect</span><br><span>Business Match</span></h1><p> Discover amazing businesses near you </p><!-- Search Form --><div><div><form><div><!-- Business Name Search --><div><label for="businessNameSearch">Business Name</label><input type="text" placeholder="Search by business name..."></div><!-- Location Search --><div><label for="locationSearch">Location</label><input type="text" placeholder="Enter city or postcode..."></div><!-- Category Search --><div><label for="categorySearch">Category</label><select><option value="">All Categories</option><option value="hair">Hair & Beauty</option><option value="barber">Barber Shops</option><option value="nail">Nail Salons</option><option value="spa">Spa & Wellness</option><option value="fitness">Fitness & Gym</option><option value="restaurant">Restaurants</option><option value="retail">Retail</option><option value="services">Professional Services</option></select></div></div><!-- Search Buttons --><div><button type="submit"><i></i>Search </button><button type="button" onclick="findNearMe()"><i></i>Near Me </button></div></form></div></div></div></section><!-- Advanced Controls --><section><div><div><!-- Results Info --><div><h2>All Businesses</h2><span>12 businesses found</span></div><!-- Filter and Sort Controls --><div><!-- Filter Menu --><div><button><i></i><span>Filters</span></button><div><div><div><label>Category</label><select><option value="">All Categories</option><option value="hair">Hair & Beauty</option><option value="barber">Barber Shops</option><option value="nail">Nail Salons</option><option value="spa">Spa & Wellness</option></select></div><div><label>Location</label><input type="text" placeholder="City or postcode"></div><div><label>Min Rating</label><select><option value="">Any Rating</option><option value="4.5">4.5+ Stars</option><option value="4.0">4.0+ Stars</option><option value="3.5">3.5+ Stars</option><option value="3.0">3.0+ Stars</option></select></div><div><label>Distance</label><select><option value="1">Within 1 mile</option><option value="5">Within 5 miles</option><option value="10">Within 10 miles</option><option value="25">Within 25 miles</option></select></div><div><label>Price Range</label><select><option value="">Any Price</option><option value="Â£">Â£ (Budget)</option><option value="Â£Â£">Â£Â£ (Moderate)</option><option value="Â£Â£Â£">Â£Â£Â£ (Premium)</option></select></div><div><label>Features</label><div><label><input type="checkbox"><span>Online Booking</span></label><label><input type="checkbox"><span>Has Photos</span></label><label><input type="checkbox"><span>Featured</span></label></div></div><button onclick="applyFilters()"> Apply Filters </button></div></div></div><!-- Sort Menu --><div><button><i></i><span>Sort</span></button><div><div><button data-sort="relevance">Relevance</button><button data-sort="price">Price</button><button data-sort="distance">Distance</button><button data-sort="reviews">Reviews</button></div></div></div></div></div></div></section><!-- Featured Businesses Section --><section><div><div><h2>Featured Businesses</h2><p>Discover top-rated businesses in your area</p></div><div><!-- Featured business cards will be populated here --></div></div></section><!-- Search Results --><section><div><!-- Loading State --><div><div></div><p>Searching for businesses...</p></div><!-- No Results State --><div><div><i></i><h3>No Results Found</h3><p>Try adjusting your search criteria or browse all businesses</p><button onclick="clearSearch()"> Clear Search </button></div></div><!-- Results Grid --><div><!-- Business cards will be dynamically inserted here --></div><!-- Pagination --><div><button onclick="changePage(-1)"><i></i></button><span>Page 1 of 3</span><button onclick="changePage(1)"><i></i></button></div></div></section><!-- Footer --><script> // Initialize page document.addEventListener('DOMContentLoaded', function() { initializePage(); setupEventListeners(); loadInitialResults(); }); // Initialize page functionality function initializePage() { // Check for URL parameters and populate search fields const urlParams = new URLSearchParams(window.location.search); const businessName = urlParams.get('business'); const location = urlParams.get('location'); const category = urlParams.get('category'); if (businessName) { document.getElementById('businessNameSearch').value = businessName; } if (location) { document.getElementById('locationSearch').value = location; } if (category) { document.getElementById('categorySearch').value = category; } // If any search parameters exist, perform search if (businessName || location || category) { performSearch(); } } // Setup event listeners function setupEventListeners() { // Search form submission document.getElementById('searchForm').addEventListener('submit', function(e) { e.preventDefault(); performSearch(); }); // Filter menu toggle document.getElementById('filterMenuBtn').addEventListener('click', function() { const filterMenu = document.getElementById('filterMenu'); filterMenu.classList.toggle('hidden'); document.getElementById('sortMenu').classList.add('hidden'); }); // Sort menu toggle document.getElementById('sortMenuBtn').addEventListener('click', function() { const sortMenu = document.getElementById('sortMenu'); sortMenu.classList.toggle('hidden'); document.getElementById('filterMenu').classList.add('hidden'); }); // Sort option selection document.querySelectorAll('#sortMenu button').forEach(button => { button.addEventListener('click', function() { const sortType = this.getAttribute('data-sort'); applySorting(sortType); }); }); // Customer account dropdown document.getElementById('customerAccountBtn').addEventListener('click', function() { const dropdown = document.getElementById('customerDropdown'); dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none'; document.getElementById('businessDropdown').style.display = 'none'; }); // Business account dropdown document.getElementById('businessAccountBtn').addEventListener('click', function() { const dropdown = document.getElementById('businessDropdown'); dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none'; document.getElementById('customerDropdown').style.display = 'none'; }); // Mobile menu toggle document.getElementById('mobileMenuBtn').addEventListener('click', function() { const mobileMenu = document.getElementById('mobileMenu'); mobileMenu.classList.toggle('hidden'); }); // Mobile customer account dropdown document.getElementById('mobileCustomerAccountBtn').addEventListener('click', function() { const dropdown = document.getElementById('mobileCustomerDropdown'); dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none'; document.getElementById('mobileBusinessDropdown').style.display = 'none'; }); // Mobile business account dropdown document.getElementById('mobileBusinessAccountBtn').addEventListener('click', function() { const dropdown = document.getElementById('mobileBusinessDropdown'); dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none'; document.getElementById('mobileCustomerDropdown').style.display = 'none'; }); // Close dropdowns when clicking outside document.addEventListener('click', function(e) { if (!e.target.closest('.relative')) { document.querySelectorAll('.customer-dropdown').forEach(dropdown => { dropdown.style.display = 'none'; }); document.getElementById('filterMenu').classList.add('hidden'); document.getElementById('sortMenu').classList.add('hidden'); } }); // Close modals when clicking outside document.addEventListener('click', function(e) { if (e.target.classList.contains('fixed') && e.target.classList.contains('inset-0')) { closeBusinessModal(); closeContactModal(); } }); // Close modals with Escape key document.addEventListener('keydown', function(e) { if (e.key === 'Escape') { closeBusinessModal(); closeContactModal(); } }); } // Load initial results function loadInitialResults() { // Show loading state showLoadingState(); // Simulate loading delay setTimeout(() => { // Get all businesses from business manager const allBusinesses = window.businessManager ? window.businessManager.getAllBusinesses() : getDefaultBusinesses(); // Load featured businesses loadFeaturedBusinesses(allBusinesses); // Set up pagination for initial load currentBusinesses = allBusinesses; totalItems = allBusinesses.length; currentPage = 1; // Update results count const resultsCount = document.getElementById('resultsCount'); if (resultsCount) { resultsCount.textContent = `${allBusinesses.length} businesses found`; } // Display paginated results displayPaginatedResults(); hideLoadingState(); // Track search impressions trackSearchImpressions(allBusinesses); }, 1000); } // Load featured businesses function loadFeaturedBusinesses(allBusinesses) { const featuredBusinesses = allBusinesses.filter(business => business.featured); const featuredGrid = document.getElementById('featuredBusinessesGrid'); if (featuredGrid && featuredBusinesses.length > 0) { featuredGrid.innerHTML = featuredBusinesses.map(business => ` <div><div><img src="${business.image}" alt="${business.name}"><div><span>Featured</span></div><div><span>${business.priceRange || getDefaultPriceRange(business.category)}</span></div></div><div><h3>${business.name}</h3><p>${business.description || 'Professional services available'}</p><div><div><div> ${generateStars(business.rating || 0)} </div><span>${business.rating || 0}</span><span>(${business.reviews || business.reviewCount || 0})</span></div><div><i></i><span>${business.location}</span></div></div><div> ${(business.services || getDefaultServices(business.category)).slice(0, 3).map(service => ` <span>${service}</span> `).join('')} ${(business.services || getDefaultServices(business.category)).length > 3 ? `<span>+${(business.services || getDefaultServices(business.category)).length - 3} more</span>` : ''} </div></div><div><button onclick="viewBusinessDetails('${business.id}')"><i></i>View Details </button><button onclick="contactBusiness('${business.id}')"><i></i>Contact </button> ${business.hasBooking ? `<button onclick="bookBusiness('${business.id}')"><i></i>Book </button>` : ''} </div></div> `).join(''); } else if (featuredGrid) { featuredGrid.innerHTML = '<p>No featured businesses available at the moment.</p>'; } } // Get default businesses if business manager is not available function getDefaultBusinesses() { return [ { id: 'royalHairStudio', name: 'Royal Hair Studio', category: 'hair', location: 'London, UK', rating: 4.8, reviewCount: 127, priceRange: 'Â£Â£', image: 'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop', description: 'Premium hair styling and coloring services', services: ['Hair Cut', 'Hair Color', 'Styling', 'Treatment'], phone: '+44 20 7123 4567', email: 'info@royalhair.com', address: '123 High Street, London, UK', hours: 'Mon-Sat: 9AM-7PM, Sun: 10AM-5PM', featured: true, hasBooking: true, hasPhoto: true }, { id: 'eliteBarberShop', name: 'Elite Barber Shop', category: 'barber', location: 'Manchester, UK', rating: 4.6, reviewCount: 89, priceRange: 'Â£', image: 'https://images.unsplash.com/photo-1585747860715-2ba37e788b70?w=400&h=300&fit=crop', description: 'Traditional and modern barbering services', services: ['Hair Cut', 'Beard Trim', 'Shave', 'Styling'], phone: '+44 161 234 5678', email: 'hello@elitebarber.com', address: '456 Main Street, Manchester, UK', hours: 'Mon-Fri: 8AM-6PM, Sat: 9AM-5PM' }, { id: 'luxeNailSpa', name: 'Luxe Nail Spa', category: 'nail', location: 'Birmingham, UK', rating: 4.9, reviewCount: 156, priceRange: 'Â£Â£Â£', image: 'https://images.unsplash.com/photo-1604654894610-df63bc536371?w=400&h=300&fit=crop', description: 'Luxury nail care and spa treatments', services: ['Manicure', 'Pedicure', 'Nail Art', 'Spa Treatment'], phone: '+44 121 345 6789', email: 'contact@luxenailspa.com', address: '789 Queen Street, Birmingham, UK', hours: 'Mon-Sat: 10AM-8PM, Sun: 11AM-6PM' }, { id: 'zenWellness', name: 'Zen Wellness Center', category: 'spa', location: 'Edinburgh, UK', rating: 4.7, reviewCount: 203, priceRange: 'Â£Â£Â£', image: 'https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=400&h=300&fit=crop', description: 'Holistic wellness and relaxation treatments', services: ['Massage', 'Facial', 'Body Treatment', 'Meditation'], phone: '+44 131 456 7890', email: 'info@zenwellness.com', address: '321 Royal Mile, Edinburgh, UK', hours: 'Mon-Sun: 9AM-9PM' }, { id: 'fitLifeGym', name: 'FitLife Gym', category: 'fitness', location: 'Liverpool, UK', rating: 4.5, reviewCount: 312, priceRange: 'Â£Â£', image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop', description: 'Modern fitness center with personal training', services: ['Gym Access', 'Personal Training', 'Classes', 'Nutrition'], phone: '+44 151 567 8901', email: 'membership@fitlifegym.com', address: '654 Albert Dock, Liverpool, UK', hours: 'Mon-Fri: 5AM-11PM, Sat-Sun: 7AM-9PM' }, { id: 'bellaBeauty', name: 'Bella Beauty Salon', category: 'hair', location: 'Leeds, UK', rating: 4.4, reviewCount: 78, priceRange: 'Â£Â£', image: 'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=400&h=300&fit=crop', description: 'Full-service beauty salon and spa', services: ['Hair Styling', 'Makeup', 'Facial', 'Eyebrow'], phone: '+44 113 678 9012', email: 'hello@bellabeauty.com', address: '987 Briggate, Leeds, UK', hours: 'Mon-Sat: 9AM-7PM, Sun: 10AM-4PM' } ]; } // Perform search function performSearch() { const businessName = document.getElementById('businessNameSearch').value.toLowerCase().trim(); const location = document.getElementById('locationSearch').value.toLowerCase().trim(); const category = document.getElementById('categorySearch').value; // Update dynamic headings updateDynamicHeadings(businessName, location, category); // Show advanced controls const advancedControls = document.getElementById('advancedControls'); if (advancedControls) { advancedControls.classList.remove('hidden'); } // Show loading state showLoadingState(); // Simulate search delay setTimeout(() => { searchBusinesses(); hideLoadingState(); }, 800); } // Search businesses function function searchBusinesses() { const businessName = document.getElementById('businessNameSearch').value.toLowerCase().trim(); const location = document.getElementById('locationSearch').value.toLowerCase().trim(); const category = document.getElementById('categorySearch').value; // Get advanced filter values const advancedCategory = document.getElementById('categoryFilter')?.value || ''; const advancedLocation = document.getElementById('locationFilter')?.value.toLowerCase().trim() || ''; const minRating = document.getElementById('ratingFilter')?.value || ''; const distance = document.getElementById('distanceFilter')?.value || '5'; const priceRange = document.getElementById('priceFilter')?.value || ''; const hasBooking = document.getElementById('hasBookingFilter')?.checked || false; const hasPhotos = document.getElementById('hasPhotosFilter')?.checked || false; const featured = document.getElementById('featuredFilter')?.checked || false; const sortBy = document.getElementById('sortMenuText')?.textContent.toLowerCase() || 'relevance'; // Get all businesses const allBusinesses = window.businessManager ? window.businessManager.getAllBusinesses() : getDefaultBusinesses(); // Filter businesses let filteredBusinesses = allBusinesses.filter(business => { // Business name filter if (businessName && !business.name.toLowerCase().includes(businessName)) { return false; } // Location filter const searchLocation = advancedLocation || location; if (searchLocation && !business.location.toLowerCase().includes(searchLocation)) { return false; } // Category filter const searchCategory = advancedCategory || category; if (searchCategory && business.category !== searchCategory) { return false; } // Rating filter if (minRating && business.rating < parseFloat(minRating)) { return false; } // Price range filter if (priceRange) { const businessPriceRange = business.priceRange || getDefaultPriceRange(business.category); if (businessPriceRange !== priceRange) { return false; } } // Has booking filter if (hasBooking && !business.hasBooking) { return false; } // Has photos filter if (hasPhotos && !business.hasPhoto) { return false; } // Featured filter if (featured && !business.featured) { return false; } return true; }); // Sort results if (sortBy === 'price') { filteredBusinesses.sort((a, b) => a.priceRange.length - b.priceRange.length); } else if (sortBy === 'distance') { // For demo purposes, randomize distance filteredBusinesses.sort(() => Math.random() - 0.5); } else if (sortBy === 'reviews') { filteredBusinesses.sort((a, b) => b.reviewCount - a.reviewCount); } else if (sortBy === 'relevance') { // Keep original order for relevance } // Update results count const resultsCount = document.getElementById('resultsCount'); if (resultsCount) { resultsCount.textContent = `${filteredBusinesses.length} businesses found`; } // Set up pagination currentBusinesses = filteredBusinesses; totalItems = filteredBusinesses.length; currentPage = 1; // Display paginated results displayPaginatedResults(); // Track search impressions trackSearchImpressions(filteredBusinesses); } // Display search results function displaySearchResults(businesses) { const resultsGrid = document.getElementById('resultsGrid'); const noResultsState = document.getElementById('noResultsState'); if (businesses.length === 0) { resultsGrid.innerHTML = ''; noResultsState.classList.remove('hidden'); return; } noResultsState.classList.add('hidden'); resultsGrid.innerHTML = businesses.map(business => { // Get services from business data or use defaults const services = business.services || getDefaultServices(business.category); const priceRange = business.priceRange || getDefaultPriceRange(business.category); const reviewCount = business.reviews || business.reviewCount || 0; return ` <div><div><img src="${business.image}" alt="${business.name}"><div><span>${getCategoryDisplayName(business.category)}</span></div><div><span>${priceRange}</span></div> ${business.featured ? '<div><span>Featured</span></div>' : ''} </div><div><h3>${business.name}</h3><p>${business.description || 'Professional services available'}</p><div><div><div> ${generateStars(business.rating || 0)} </div><span>${business.rating || 0}</span><span>(${reviewCount})</span></div><div><i></i><span>${business.location}</span></div></div><div> ${services.slice(0, 3).map(service => ` <span>${service}</span> `).join('')} ${services.length > 3 ? `<span>+${services.length - 3} more</span>` : ''} </div><div><div><i></i><span>${business.phone || 'Contact for details'}</span></div><div><i></i><span>${business.hoursStart || 'Hours vary'}</span></div></div></div><div><button onclick="viewBusinessDetails('${business.id}')"><i></i>View Details </button><button onclick="contactBusiness('${business.id}')"><i></i>Contact </button> ${business.hasBooking ? `<button onclick="bookBusiness('${business.id}')"><i></i>Book </button>` : ''} </div></div> `; }).join(''); } // Generate star rating display function generateStars(rating) { const fullStars = Math.floor(rating); const hasHalfStar = rating % 1 !== 0; let stars = ''; for (let i = 0; i < fullStars; i++) { stars += '<i></i>'; } if (hasHalfStar) { stars += '<i></i>'; } const emptyStars = 5 - Math.ceil(rating); for (let i = 0; i < emptyStars; i++) { stars += '<i></i>'; } return stars; } // Get category display name function getCategoryDisplayName(category) { const categoryNames = { 'hair': 'Hair & Beauty', 'hairdresser': 'Hair & Beauty', 'barber': 'Barber Shop', 'beauty': 'Beauty Salon', 'nail': 'Nail Salon', 'spa': 'Spa & Wellness', 'fitness': 'Fitness', 'restaurant': 'Restaurant', 'retail': 'Retail', 'services': 'Services' }; return categoryNames[category] || category; } // Get default services for category function getDefaultServices(category) { const defaultServices = { 'hair': ['Hair Cut', 'Hair Color', 'Styling', 'Treatment'], 'hairdresser': ['Hair Cut', 'Hair Color', 'Styling', 'Treatment'], 'barber': ['Hair Cut', 'Beard Trim', 'Shave', 'Styling'], 'beauty': ['Makeup', 'Facial', 'Eyebrow', 'Skincare'], 'nail': ['Manicure', 'Pedicure', 'Nail Art', 'Gel Polish'], 'spa': ['Massage', 'Facial', 'Body Treatment', 'Relaxation'], 'fitness': ['Personal Training', 'Group Classes', 'Gym Access', 'Nutrition'], 'restaurant': ['Dining', 'Takeaway', 'Catering', 'Events'], 'retail': ['Shopping', 'Consultation', 'Delivery', 'Returns'], 'services': ['Consultation', 'Service', 'Support', 'Maintenance'] }; return defaultServices[category] || ['Service', 'Consultation', 'Support']; } // Get default price range for category function getDefaultPriceRange(category) { const defaultPrices = { 'hair': 'Â£Â£', 'hairdresser': 'Â£Â£', 'barber': 'Â£', 'beauty': 'Â£Â£', 'nail': 'Â£Â£', 'spa': 'Â£Â£Â£', 'fitness': 'Â£Â£', 'restaurant': 'Â£Â£', 'retail': 'Â£Â£', 'services': 'Â£Â£' }; return defaultPrices[category] || 'Â£Â£'; } // Apply sorting function applySorting(sortType) { const sortMenuText = document.getElementById('sortMenuText'); const sortMenu = document.getElementById('sortMenu'); sortMenuText.textContent = sortType.charAt(0).toUpperCase() + sortType.slice(1); sortMenu.classList.add('hidden'); // Trigger search with new sort performSearch(); } // Apply filters function applyFilters() { const filterMenu = document.getElementById('filterMenu'); filterMenu.classList.add('hidden'); // Trigger search with new filters performSearch(); } // View business details function viewBusinessDetails(businessId) { // Track view click trackBusinessView(businessId); // Get business details const allBusinesses = window.businessManager ? window.businessManager.getAllBusinesses() : getDefaultBusinesses(); const business = allBusinesses.find(b => b.id === businessId); if (business) { // Create and show business details modal showBusinessDetailsModal(business); } } // Show business details modal function showBusinessDetailsModal(business) { const modal = document.createElement('div'); modal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4'; modal.innerHTML = ` <div><div><img src="${business.image}" alt="${business.name}"><button onclick="closeBusinessModal()"><i></i></button><div><span>${getCategoryDisplayName(business.category)}</span></div></div><div><div><div><h2>${business.name}</h2><p>${business.description || 'Professional services available'}</p><div><div><h3>Contact Information</h3><div><div><i></i><span>${business.phone || 'Contact for details'}</span></div><div><i></i><span>${business.email || 'Email not provided'}</span></div><div><i></i><span>${business.location}</span></div></div></div><div><h3>Business Hours</h3><div><p>${business.hoursStart || 'Hours vary'}</p><p>Please contact for specific hours</p></div></div></div><div><h3>Services</h3><div> ${(business.services || getDefaultServices(business.category)).map(service => ` <span>${service}</span> `).join('')} </div></div></div><div><div><div><div><div> ${generateStars(business.rating || 0)} </div></div><p>${business.rating || 0} out of 5</p><p>${business.reviews || business.reviewCount || 0} reviews</p></div><div><button onclick="contactBusiness('${business.id}')"><i></i>Contact Business </button> ${business.hasBooking ? `<button onclick="bookBusiness('${business.id}')"><i></i>Book Appointment </button>` : ''} <button onclick="shareBusiness('${business.id}')"><i></i>Share Business </button></div></div></div></div></div></div> `; document.body.appendChild(modal); document.body.style.overflow = 'hidden'; } // Close business modal function closeBusinessModal() { const modal = document.querySelector('.fixed.inset-0.bg-black\\/50'); if (modal) { modal.remove(); document.body.style.overflow = 'auto'; } } // Contact business function contactBusiness(businessId) { // Track contact click trackContactClick(businessId); // Get business details const allBusinesses = window.businessManager ? window.businessManager.getAllBusinesses() : getDefaultBusinesses(); const business = allBusinesses.find(b => b.id === businessId); if (business) { // Close modal if open closeBusinessModal(); // Create contact modal showContactModal(business); } } // Show contact modal function showContactModal(business) { const modal = document.createElement('div'); modal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4'; modal.innerHTML = ` <div><div><h3>Contact ${business.name}</h3><p>Choose how you'd like to get in touch</p></div><div> ${business.phone ? ` <a href="tel:${business.phone}"><i></i><div><p>Call</p><p>${business.phone}</p></div></a> ` : ''} ${business.email ? ` <a href="mailto:${business.email}"><i></i><div><p>Email</p><p>${business.email}</p></div></a> ` : ''} <div><i></i><div><p>Visit</p><p>${business.location}</p></div></div></div><div><button onclick="closeContactModal()"> Close </button><button onclick="shareBusiness('${business.id}')"><i></i>Share </button></div></div> `; document.body.appendChild(modal); document.body.style.overflow = 'hidden'; } // Close contact modal function closeContactModal() { const modal = document.querySelector('.fixed.inset-0.bg-black\\/50'); if (modal) { modal.remove(); document.body.style.overflow = 'auto'; } } // Share business function shareBusiness(businessId) { const allBusinesses = window.businessManager ? window.businessManager.getAllBusinesses() : getDefaultBusinesses(); const business = allBusinesses.find(b => b.id === businessId); if (business && navigator.share) { navigator.share({ title: business.name, text: `Check out ${business.name} on BlkPages!`, url: window.location.href }); } else { // Fallback: copy to clipboard const shareText = `Check out ${business.name} on BlkPages! ${window.location.href}`; navigator.clipboard.writeText(shareText).then(() => { alert('Business link copied to clipboard!'); }); } } // Book business function bookBusiness(businessId) { // Track booking click trackBookingClick(businessId); // Close any open modals closeBusinessModal(); closeContactModal(); // Redirect to booking page window.location.href = `booking.html?business=${businessId}`; } // Find near me function findNearMe() { if (navigator.geolocation) { navigator.geolocation.getCurrentPosition(function(position) { // Simulate location-based results updateDynamicHeadings('', 'your area', ''); const resultsCount = document.getElementById('resultsCount'); if (resultsCount) { resultsCount.textContent = '8 businesses found near you'; } // Show advanced controls const advancedControls = document.getElementById('advancedControls'); if (advancedControls) { advancedControls.classList.remove('hidden'); } // Perform search with location document.getElementById('locationSearch').value = 'your area'; performSearch(); }, function(error) { alert('Unable to get your location. Please enter your location manually.'); }); } else { alert('Geolocation is not supported by this browser.'); } } // Clear search function clearSearch() { document.getElementById('businessNameSearch').value = ''; document.getElementById('locationSearch').value = ''; document.getElementById('categorySearch').value = ''; document.getElementById('categoryFilter').value = ''; document.getElementById('locationFilter').value = ''; document.getElementById('ratingFilter').value = ''; document.getElementById('distanceFilter').value = '5'; document.getElementById('priceFilter').value = ''; document.getElementById('hasBookingFilter').checked = false; document.getElementById('hasPhotosFilter').checked = false; document.getElementById('featuredFilter').checked = false; document.getElementById('sortMenuText').textContent = 'Sort'; // Hide advanced controls const advancedControls = document.getElementById('advancedControls'); if (advancedControls) { advancedControls.classList.add('hidden'); } // Reset headings updateDynamicHeadings('', '', ''); // Load all businesses loadInitialResults(); } // Update dynamic headings function updateDynamicHeadings(searchTerm, location, category) { const dynamicSubheading = document.getElementById('dynamicSubheading'); const resultsHeading = document.getElementById('resultsHeading'); if (searchTerm || location || category) { let context = ''; if (category) context += getCategoryDisplayName(category); if (location) context += (context ? ' in ' : '') + location; if (searchTerm) context += (context ? ' matching "' : '') + searchTerm + (searchTerm ? '"' : ''); if (dynamicSubheading) { dynamicSubheading.textContent = `Showing results for ${context}`; } if (resultsHeading) { resultsHeading.textContent = `Search Results`; } } else { if (dynamicSubheading) { dynamicSubheading.textContent = 'Discover amazing businesses near you'; } if (resultsHeading) { resultsHeading.textContent = 'All Businesses'; } } } // Show loading state function showLoadingState() { document.getElementById('loadingState').classList.remove('hidden'); document.getElementById('resultsGrid').innerHTML = ''; document.getElementById('noResultsState').classList.add('hidden'); } // Hide loading state function hideLoadingState() { document.getElementById('loadingState').classList.add('hidden'); } // Track search impressions function trackSearchImpressions(businesses) { const currentDate = new Date().toISOString().split('T')[0]; const currentTime = new Date().toISOString(); console.log('Tracking search impressions for', businesses.length, 'businesses'); businesses.forEach(business => { const businessId = business.id; // Get existing analytics data let analyticsData = JSON.parse(localStorage.getItem('businessAnalytics') || '{}'); // Initialize business analytics if not exists if (!analyticsData[businessId]) { analyticsData[businessId] = { totalViews: 0, dailyViews: {}, lastView: null, viewHistory: [], searchImpressions: 0, dailySearchImpressions: {}, contactClicks: 0, dailyContactClicks: {}, enquiries: 0, dailyEnquiries: {} }; } // Ensure all required objects exist if (!analyticsData[businessId].dailySearchImpressions) { analyticsData[businessId].dailySearchImpressions = {}; } // Update search impressions analyticsData[businessId].searchImpressions += 1; // Update daily search impressions if (!analyticsData[businessId].dailySearchImpressions[currentDate]) { analyticsData[businessId].dailySearchImpressions[currentDate] = 0; } analyticsData[businessId].dailySearchImpressions[currentDate] += 1; // Save updated analytics localStorage.setItem('businessAnalytics', JSON.stringify(analyticsData)); console.log(`Tracked search impression for ${business.name} (${businessId})`); }); } // Track contact click function trackContactClick(businessId) { const currentDate = new Date().toISOString().split('T')[0]; // Get existing analytics data let analyticsData = JSON.parse(localStorage.getItem('businessAnalytics') || '{}'); // Initialize business analytics if not exists if (!analyticsData[businessId]) { analyticsData[businessId] = { totalViews: 0, dailyViews: {}, lastView: null, viewHistory: [], searchImpressions: 0, dailySearchImpressions: {}, contactClicks: 0, dailyContactClicks: {}, enquiries: 0, dailyEnquiries: {} }; } // Ensure all required objects exist if (!analyticsData[businessId].dailyContactClicks) { analyticsData[businessId].dailyContactClicks = {}; } // Update contact clicks analyticsData[businessId].contactClicks += 1; // Update daily contact clicks if (!analyticsData[businessId].dailyContactClicks[currentDate]) { analyticsData[businessId].dailyContactClicks[currentDate] = 0; } analyticsData[businessId].dailyContactClicks[currentDate] += 1; // Save updated analytics localStorage.setItem('businessAnalytics', JSON.stringify(analyticsData)); console.log(`Tracked contact click for business ${businessId}`); } // Track booking click function trackBookingClick(businessId) { console.log(`Tracked booking click for business ${businessId}`); // Additional booking tracking can be implemented here } // Track business view function trackBusinessView(businessId) { const currentDate = new Date().toISOString().split('T')[0]; // Get existing analytics data let analyticsData = JSON.parse(localStorage.getItem('businessAnalytics') || '{}'); // Initialize business analytics if not exists if (!analyticsData[businessId]) { analyticsData[businessId] = { totalViews: 0, dailyViews: {}, lastView: null, viewHistory: [], searchImpressions: 0, dailySearchImpressions: {}, contactClicks: 0, dailyContactClicks: {}, enquiries: 0, dailyEnquiries: {} }; } // Ensure all required objects exist if (!analyticsData[businessId].dailyViews) { analyticsData[businessId].dailyViews = {}; } // Update views analyticsData[businessId].totalViews += 1; analyticsData[businessId].lastView = new Date().toISOString(); // Update daily views if (!analyticsData[businessId].dailyViews[currentDate]) { analyticsData[businessId].dailyViews[currentDate] = 0; } analyticsData[businessId].dailyViews[currentDate] += 1; // Add to view history analyticsData[businessId].viewHistory.push({ timestamp: new Date().toISOString(), source: 'search_results' }); // Keep only last 100 view history entries if (analyticsData[businessId].viewHistory.length > 100) { analyticsData[businessId].viewHistory = analyticsData[businessId].viewHistory.slice(-100); } // Save updated analytics localStorage.setItem('businessAnalytics', JSON.stringify(analyticsData)); console.log(`Tracked business view for ${businessId}`); } // Pagination functionality let currentPage = 1; let itemsPerPage = 9; let totalItems = 0; let currentBusinesses = []; // Pagination functions function changePage(direction) { const totalPages = Math.ceil(totalItems / itemsPerPage); if (direction === -1 && currentPage > 1) { currentPage--; } else if (direction === 1 && currentPage < totalPages) { currentPage++; } updatePagination(); displayPaginatedResults(); } function updatePagination() { const totalPages = Math.ceil(totalItems / itemsPerPage); const paginationElement = document.getElementById('pagination'); if (totalPages <= 1) { paginationElement.classList.add('hidden'); return; } paginationElement.classList.remove('hidden'); const pageInfo = paginationElement.querySelector('span'); pageInfo.textContent = `Page ${currentPage} of ${totalPages}`; // Update button states const prevBtn = paginationElement.querySelector('button:first-child'); const nextBtn = paginationElement.querySelector('button:last-child'); prevBtn.disabled = currentPage === 1; nextBtn.disabled = currentPage === totalPages; if (currentPage === 1) { prevBtn.classList.add('opacity-50', 'cursor-not-allowed'); } else { prevBtn.classList.remove('opacity-50', 'cursor-not-allowed'); } if (currentPage === totalPages) { nextBtn.classList.add('opacity-50', 'cursor-not-allowed'); } else { nextBtn.classList.remove('opacity-50', 'cursor-not-allowed'); } } function displayPaginatedResults() { const startIndex = (currentPage - 1) * itemsPerPage; const endIndex = startIndex + itemsPerPage; const paginatedBusinesses = currentBusinesses.slice(startIndex, endIndex); displaySearchResults(paginatedBusinesses); } function resetPagination() { currentPage = 1; totalItems = 0; currentBusinesses = []; } </script>
        </div>
    </main>
    
    <footer class="bg-[#111111] py-12 px-4">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
            <!-- About -->
            <div>
                <h3 class="text-lg font-bold text-[#D4AF37] mb-4">BlkPages</h3>
                <p class="text-gray-400">Connecting you to businesses inspired by Black culture and creativity.</p>
            </div>
            <!-- Links -->
            <div>
                <h3 class="text-lg font-semibold text-gray-200 mb-4">Quick Links</h3>
                <ul>
                    <li class="mb-2"><a href="about.html" class="text-gray-400 hover:text-[#D4AF37]">About Us</a></li>
                    <li class="mb-2"><a href="search-results.html" class="text-gray-400 hover:text-[#D4AF37]">Browse</a></li>
                    <li class="mb-2"><a href="business-register.html" class="text-gray-400 hover:text-[#D4AF37]">List a Business</a></li>
                    <li class="mb-2"><a href="contact.html" class="text-gray-400 hover:text-[#D4AF37]">Contact</a></li>
                </ul>
            </div>
            <!-- Legal -->
            <div>
                <h3 class="text-lg font-semibold text-gray-200 mb-4">Legal</h3>
                <ul>
                    <li class="mb-2"><a href="privacy.html" class="text-gray-400 hover:text-[#D4AF37]">Privacy Policy</a></li>
                    <li class="mb-2"><a href="terms.html" class="text-gray-400 hover:text-[#D4AF37]">Terms of Service</a></li>
                </ul>
            </div>
            <!-- Social -->
            <div>
                <h3 class="text-lg font-semibold text-gray-200 mb-4">Connect With Us</h3>
                <div class="flex gap-4">
                    <a href="#" class="text-gray-400 hover:text-[#D4AF37]"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-[#D4AF37]"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-[#D4AF37]"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center text-gray-500 mt-8 pt-8 border-t border-gray-800">
            <p>&copy; 2024 BlkPages. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>