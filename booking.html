<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Booking - Royal Hair Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; line-height: 1.6; color: #ffffff; background: #000000; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* Navigation */
        .navbar { background: rgba(0, 0, 0, 0.9); box-shadow: 0 2px 10px rgba(255,255,255,0.1); position: fixed; top: 0; width: 100%; z-index: 1000; }
        .nav-wrapper { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 0; }
        .logo { font-size: 1.8rem; font-weight: 700; color: #ffffff; text-decoration: none; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { text-decoration: none; color: #ffffff; font-weight: 500; transition: color 0.3s; }
        .nav-links a:hover, .nav-links a.active { color: #007bff; }
        .btn-nav { background: #007bff; color: white !important; padding: 0.5rem 1.5rem; border-radius: 25px; transition: background 0.3s; text-decoration: none; }
        .btn-nav:hover { background: #0056b3; }
        
        /* Main Content */
        .main-content { padding: 120px 0 80px; }
        .page-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; text-align: center; color: #ffffff; }
        .page-subtitle { text-align: center; color: #cccccc; margin-bottom: 3rem; font-size: 1.1rem; }
        
        .booking-container { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; }
        
        /* Customer Form */
        .customer-form { background: #1a1a1a; padding: 2rem; border-radius: 15px; border: 1px solid #333; }
        .customer-form h3 { font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: #ffffff; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #ffffff; }
        .form-group input, .form-group select, .form-group textarea { 
            width: 100%; 
            padding: 0.75rem; 
            border: 2px solid #333; 
            border-radius: 8px; 
            font-size: 1rem; 
            background: #2a2a2a; 
            color: #ffffff; 
            font-family: inherit;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
        }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        
        /* Booking Summary */
        .booking-summary { background: #1a1a1a; padding: 2rem; border-radius: 15px; border: 1px solid #333; height: fit-content; }
        .booking-summary h3 { font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: #ffffff; }
        .summary-section { margin-bottom: 2rem; }
        .summary-section h4 { font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: #ffffff; }
        .summary-item { display: flex; justify-content: space-between; margin-bottom: 0.8rem; padding-bottom: 0.8rem; border-bottom: 1px solid #333; }
        .summary-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .summary-label { color: #cccccc; }
        .summary-value { color: #ffffff; font-weight: 500; }
        .total-price { font-size: 1.3rem; font-weight: 700; color: #007bff; }
        
        /* Payment Section */
        .payment-section { background: #1a1a1a; padding: 2rem; border-radius: 15px; border: 1px solid #333; margin-top: 2rem; }
        .payment-section h3 { font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: #ffffff; }
        .payment-methods { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem; }
        .payment-method { 
            background: #2a2a2a; 
            padding: 1rem; 
            border-radius: 8px; 
            border: 2px solid #333; 
            cursor: pointer; 
            transition: all 0.3s;
            text-align: center;
        }
        .payment-method:hover { border-color: #007bff; }
        .payment-method.selected { border-color: #007bff; background: #1a3a5c; }
        .payment-method i { font-size: 2rem; color: #007bff; margin-bottom: 0.5rem; }
        .payment-method span { display: block; color: #ffffff; font-weight: 500; }
        
        /* Stripe Test Card */
        .stripe-test { background: #2a2a2a; padding: 1rem; border-radius: 8px; margin-top: 1rem; font-size: 0.9rem; color: #cccccc; }
        .stripe-test h4 { color: #ffffff; margin-bottom: 0.5rem; }
        .stripe-test p { margin-bottom: 0.3rem; }
        
        /* Buttons */
        .btn-complete { 
            background: #007bff; 
            color: white; 
            border: none; 
            padding: 1rem 2rem; 
            border-radius: 25px; 
            cursor: pointer; 
            font-weight: 600; 
            font-size: 1.1rem;
            width: 100%;
            margin-top: 1.5rem;
            transition: background 0.3s;
        }
        .btn-complete:hover { background: #0056b3; }
        .btn-complete:disabled { background: #333; cursor: not-allowed; }
        
        .btn-back { 
            background: transparent; 
            color: #007bff; 
            border: 2px solid #007bff; 
            padding: 0.8rem 1.5rem; 
            border-radius: 25px; 
            cursor: pointer; 
            font-weight: 500; 
            font-size: 1rem;
            margin-right: 1rem;
            transition: all 0.3s;
        }
        .btn-back:hover { background: #007bff; color: white; }
        
        /* Success Modal */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }
        .modal-content { 
            background: #1a1a1a; 
            margin: 10% auto; 
            padding: 3rem; 
            border-radius: 15px; 
            width: 90%; 
            max-width: 500px; 
            position: relative; 
            text-align: center;
            border: 1px solid #333;
        }
        .modal-content h2 { color: #ffffff; margin-bottom: 1rem; }
        .modal-content p { color: #cccccc; margin-bottom: 2rem; }
        .success-icon { font-size: 4rem; color: #10B981; margin-bottom: 1rem; }
        
        /* Footer */
        .footer { background: #222; color: white; padding: 40px 0; text-align: center; }
        
        @media (max-width: 768px) {
            .nav-links { display: none; }
            .page-title { font-size: 2rem; }
            .booking-container { grid-template-columns: 1fr; gap: 2rem; }
            .form-row { grid-template-columns: 1fr; }
            .payment-methods { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <a href="index.html" class="logo">BLKPAGES</a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#browse">Browse</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <a href="index.html" class="btn-nav">List Your Business</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">Complete Your Booking</h1>
            <p class="page-subtitle">Royal Hair Studio - Finalize your appointment details</p>
            
            <div class="booking-container">
                <!-- Customer Information Form -->
                <div class="customer-form">
                    <h3>Your Information</h3>
                    <form id="bookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name</label>
                                <input type="text" id="firstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name</label>
                                <input type="text" id="lastName" name="lastName" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="specialRequests">Special Requests (Optional)</label>
                            <textarea id="specialRequests" name="specialRequests" rows="3" placeholder="Any specific requests or notes for your appointment..."></textarea>
                        </div>
                    </form>
                </div>
                
                <!-- Booking Summary -->
                <div class="booking-summary">
                    <h3>Booking Summary</h3>
                    
                    <div class="summary-section">
                        <h4>Appointment Details</h4>
                        <div class="summary-item">
                            <span class="summary-label">Business:</span>
                            <span class="summary-value" id="summaryBusiness">Royal Hair Studio</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Service:</span>
                            <span class="summary-value" id="summaryService">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Date:</span>
                            <span class="summary-value" id="summaryDate">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Time:</span>
                            <span class="summary-value" id="summaryTime">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Duration:</span>
                            <span class="summary-value" id="summaryDuration">-</span>
                        </div>
                    </div>
                    
                    <div class="summary-section">
                        <h4>Pricing</h4>
                        <div class="summary-item">
                            <span class="summary-label">Service Price:</span>
                            <span class="summary-value" id="summaryPrice">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Tax:</span>
                            <span class="summary-value" id="summaryTax">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total:</span>
                            <span class="summary-value total-price" id="summaryTotal">-</span>
                        </div>
                    </div>
                    
                    <!-- Payment Section -->
                    <div class="payment-section">
                        <h3>Payment Method</h3>
                        <div class="payment-methods">
                            <div class="payment-method" data-method="stripe">
                                <i class="fab fa-cc-stripe"></i>
                                <span>Credit/Debit Card</span>
                            </div>
                            <div class="payment-method" data-method="paypal">
                                <i class="fab fa-paypal"></i>
                                <span>PayPal</span>
                            </div>
                        </div>
                        
                        <div class="stripe-test" id="stripeTestInfo" style="display: none;">
                            <h4>Test Payment Information</h4>
                            <p><strong>Card Number:</strong> 4242 4242 4242 4242</p>
                            <p><strong>Expiry:</strong> Any future date</p>
                            <p><strong>CVC:</strong> Any 3 digits</p>
                            <p><strong>Postcode:</strong> Any UK postcode</p>
                        </div>
                        
                        <button class="btn-complete" id="completeBtn" onclick="completeBooking()">
                            <i class="fas fa-credit-card"></i> Complete Booking & Pay
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Booking Confirmed!</h2>
            <p>Your appointment has been successfully booked. You will receive a confirmation email shortly.</p>
            <p><strong>Confirmation Code:</strong> <span id="confirmationCode"></span></p>
            <button class="btn-complete" onclick="closeSuccessModal()">Close</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
                <div>
                    <p>&copy; 2024 BLKPAGES. All rights reserved.</p>
                </div>
                <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
                    <a href="about.html" style="color: #ffffff; text-decoration: none;">About Us</a>
                    <a href="contact.html" style="color: #ffffff; text-decoration: none;">Contact Us</a>
                    <a href="privacy.html" style="color: #ffffff; text-decoration: none;">Privacy Policy</a>
                    <a href="terms.html" style="color: #ffffff; text-decoration: none;">Terms & Conditions</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let bookingData = null;
        let selectedPaymentMethod = null;
        
        // Load booking data from localStorage
        window.addEventListener('load', function() {
            const storedData = localStorage.getItem('bookingData');
            if (storedData) {
                bookingData = JSON.parse(storedData);
                populateSummary();
            } else {
                // Redirect to appointments if no booking data
                window.location.href = 'appointments.html';
            }
        });
        
        function populateSummary() {
            if (bookingData) {
                document.getElementById('summaryService').textContent = bookingData.service.name;
                document.getElementById('summaryDate').textContent = new Date(bookingData.date).toLocaleDateString();
                document.getElementById('summaryTime').textContent = bookingData.time;
                document.getElementById('summaryDuration').textContent = bookingData.service.duration + ' minutes';
                
                const price = parseFloat(bookingData.service.price);
                const tax = price * 0.08; // 8% tax
                const total = price + tax;
                
                document.getElementById('summaryPrice').textContent = '$' + price.toFixed(2);
                document.getElementById('summaryTax').textContent = '$' + tax.toFixed(2);
                document.getElementById('summaryTotal').textContent = '$' + total.toFixed(2);
            }
        }
        
        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                this.classList.add('selected');
                selectedPaymentMethod = this.dataset.method;
                
                // Show test info for Stripe
                const stripeTestInfo = document.getElementById('stripeTestInfo');
                if (selectedPaymentMethod === 'stripe') {
                    stripeTestInfo.style.display = 'block';
                } else {
                    stripeTestInfo.style.display = 'none';
                }
            });
        });
        
        function completeBooking() {
            // Validate form
            const form = document.getElementById('bookingForm');
            const formData = new FormData(form);
            
            // Check if all required fields are filled
            const requiredFields = ['firstName', 'lastName', 'email', 'phone'];
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!formData.get(field)) {
                    isValid = false;
                    document.getElementById(field).style.borderColor = '#ff6b6b';
                } else {
                    document.getElementById(field).style.borderColor = '#333';
                }
            });
            
            if (!selectedPaymentMethod) {
                alert('Please select a payment method.');
                return;
            }
            
            if (!isValid) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Simulate payment processing
            document.getElementById('completeBtn').disabled = true;
            document.getElementById('completeBtn').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            
            setTimeout(() => {
                // Generate confirmation code
                const confirmationCode = 'RH' + Math.random().toString(36).substr(2, 8).toUpperCase();
                document.getElementById('confirmationCode').textContent = confirmationCode;
                
                // Show success modal
                document.getElementById('successModal').style.display = 'block';
                
                // Clear booking data
                localStorage.removeItem('bookingData');
            }, 2000);
        }
        
        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
            window.location.href = 'index.html';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('successModal');
            if (event.target === modal) {
                closeSuccessModal();
            }
        }
    </script>
</body>
</html>

