<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Hair Studio - BlkPages</title>
    <script src="https://cdn.tailwindcss.com?v=2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- SEO Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Royal Hair Studio",
        "description": "Professional hair salon specializing in natural hair care, styling, and treatments for all hair types.",
        "url": "https://blkpages.com/business/royal-hair-studio",
        "telephone": "+44-20-7123-4567",
        "email": "info@royalhairstudio.com",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "123 Beauty Street",
            "addressLocality": "London",
            "postalCode": "SW1A 1AA",
            "addressCountry": "GB"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "51.5074",
            "longitude": "-0.1278"
        },
        "openingHours": [
            "Mo-Fr 09:00-18:00",
            "Sa 09:00-17:00"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "127"
        },
        "image": "https://blkpages.com/images/royal-hair-studio-hero.jpg",
        "priceRange": "££",
        "serviceArea": {
            "@type": "GeoCircle",
            "geoMidpoint": {
                "@type": "GeoCoordinates",
                "latitude": "51.5074",
                "longitude": "-0.1278"
            },
            "geoRadius": "5000"
        }
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #121212 0%, #1A1A1A 50%, #0F0F0F 100%);
            min-height: 100vh;
            color: #ffffff;
            padding-bottom: 80px; /* Space for sticky CTA */
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Navigation */
        .navbar {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffffff;
            text-decoration: none;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #ffffff;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #FF3CAC;
        }
        
        /* Hero Banner */
        .hero-banner {
            background: linear-gradient(135deg, #1A1A1A 0%, #2A2A2A 100%);
            padding: 2rem;
            border-radius: 20px;
            margin: 120px 0 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .business-logo {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white; 
            flex-shrink: 0;
        }
        
        .business-info h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .business-category {
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px; 
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 1rem;
        }
        
        .business-rating {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .stars {
            color: #FFD700;
            font-size: 1.2rem;
        }
        
        .rating-text {
            color: #cccccc;
            font-size: 1rem;
        }
        
        .business-description {
            color: #cccccc;
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 600px;
        }
        
        /* Photo Gallery */
        .photo-gallery {
            margin: 3rem 0;
        }
        
        .gallery-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #ffffff;
        }
        
        .gallery-container {
            position: relative;
            background: #1A1A1A;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gallery-slides {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .gallery-slide {
            min-width: 100%;
            height: 400px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .gallery-slide:nth-child(1) { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23FF3CAC"/><text x="200" y="150" text-anchor="middle" fill="white" font-size="24" font-family="Arial">Salon Interior</text></svg>'); }
        .gallery-slide:nth-child(2) { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23784BA0"/><text x="200" y="150" text-anchor="middle" fill="white" font-size="24" font-family="Arial">Hair Styling</text></svg>'); }
        .gallery-slide:nth-child(3) { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"><rect width="400" height="300" fill="%232B86C5"/><text x="200" y="150" text-anchor="middle" fill="white" font-size="24" font-family="Arial">Professional Tools</text></svg>'); }
        
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 1rem;
            cursor: pointer; 
            font-size: 1.5rem;
            transition: background 0.3s;
        }
        
        .gallery-nav:hover {
            background: rgba(0, 0, 0, 0.9);
        }
        
        .gallery-prev {
            left: 0;
        }
        
        .gallery-next {
            right: 0;
        }
        
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
        }
        
        .gallery-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .gallery-dot.active {
            background: #FF3CAC;
        }
        
        /* Main Content Grid */
        .content-wrapper {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
            margin: 3rem 0;
        }
        
        @media (max-width: 768px) {
            .content-wrapper {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }
        
        .content-main {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .content-sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        /* Cards */
        .card {
            background: #1A1A1A;
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card h2 {
            font-size: 1.5rem;
            font-weight: 600; 
            margin-bottom: 1.5rem;
            color: #ffffff;
        }
        
        .card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #FF3CAC;
        }
        
        /* Contact Info with Icons */
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: #2A2A2A;
            border-radius: 10px;
            transition: background 0.3s;
        }
        
        .contact-item:hover {
            background: #333;
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            flex-shrink: 0;
        }
        
        .contact-details h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .contact-details p {
            color: #cccccc;
            font-size: 0.9rem;
        }
        
        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .service-item {
            background: #2A2A2A;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .service-item:hover {
            transform: translateY(-5px);
            border-color: #FF3CAC;
            box-shadow: 0 4px 6px rgba(255, 60, 172, 0.2);
        }
        
        .service-info {
            flex: 1;
        }
        
        .add-service-btn {
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .add-service-btn:hover {
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            transform: translateY(-1px);
        }
        
        .selected-services {
            margin-top: 2rem;
            padding: 1.5rem;
            background: #2A2A2A;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .selected-services h3 {
            color: #FF3CAC;
            margin-bottom: 1rem;
        }
        
        .selected-service-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #1A1A1A;
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .selected-service-info {
            flex: 1;
        }
        
        .selected-service-name {
            color: #ffffff;
            font-weight: 600;
        }
        
        .selected-service-price {
            color: #FF3CAC;
            font-weight: 600;
        }
        
        .remove-service-btn {
            background: #666666;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .remove-service-btn:hover {
            background: #ff4444;
        }
        
        .total-price {
            text-align: right;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #ffffff;
            font-size: 1.2rem;
        }
        
        /* Booking Section */
        .booking-section {
            background: linear-gradient(135deg, #121212 0%, #1A1A1A 50%, #0F0F0F 100%);
            padding: 3rem 0;
            margin-top: 2rem;
        }
        
        .booking-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
        }
        
        .booking-form {
            background: #1A1A1A;
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        .booking-sidebar {
            background: #1A1A1A;
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            height: fit-content;
            position: sticky;
            top: 120px;
        }
        
        .booking-form h2 {
            color: #ffffff;
            margin-bottom: 2rem;
            font-size: 1.8rem;
        }
        
        .booking-form h3 {
            color: #FF3CAC;
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }
        
        .booking-services, .booking-datetime, .booking-details, .booking-payment, .booking-policies {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #2A2A2A;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .add-more-btn {
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .add-more-btn:hover {
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            transform: translateY(-1px);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: #1A1A1A;
            color: #ffffff;
        }
        
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #FF3CAC;
            box-shadow: 0 0 0 3px rgba(255, 60, 172, 0.1);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .payment-option {
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            background: #1A1A1A;
        }
        
        .payment-option:hover {
            border-color: #FF3CAC;
            box-shadow: 0 4px 6px rgba(255, 60, 172, 0.2);
        }
        
        .payment-option.selected {
            border-color: #FF3CAC;
            background: linear-gradient(135deg, rgba(255, 60, 172, 0.1), rgba(120, 75, 160, 0.1));
        }
        
        .payment-header {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .payment-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .payment-title {
            font-weight: 600;
            color: #ffffff;
        }
        
        .payment-description {
            color: #cccccc;
            font-size: 0.9rem;
        }
        
        .policy-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .policy-checkbox input {
            width: 18px;
            height: 18px;
        }
        
        .policy-checkbox label {
            font-size: 0.9rem;
            color: #cccccc;
        }
        
        .policy-text {
            font-size: 0.9rem;
            color: #cccccc;
            line-height: 1.5;
        }
        
        .required-terms-checkbox {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .required-label {
            color: #cccccc;
            font-weight: 400;
            font-size: 0.9rem;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            cursor: pointer;
            line-height: 1.4;
        }
        
        .required-asterisk {
            color: #FF3CAC;
            font-weight: 600;
        }
        
        .terms-link {
            color: #FF3CAC;
            text-decoration: none;
            font-weight: 500;
        }
        
        .terms-link:hover {
            text-decoration: underline;
        }
        
        .policy-links {
            color: #FF3CAC;
            text-decoration: none;
        }
        
        .policy-links:hover {
            text-decoration: underline;
        }
        
        .booking-summary {
            background: #2A2A2A;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .summary-item:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .summary-label {
            color: #cccccc;
        }
        
        .summary-value {
            color: #ffffff;
            font-weight: 500;
        }
        
        .summary-services-list {
            margin-bottom: 1rem;
        }
        
        .summary-service-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .summary-service-item:last-child {
            border-bottom: none;
        }
        
        .summary-service-name {
            color: #ffffff;
            font-size: 0.9rem;
            flex: 1;
        }
        
        .summary-service-price {
            color: #FF3CAC;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 0.5rem;
        }
        
        .summary-remove-btn {
            background: #666666;
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            transition: all 0.3s ease;
        }
        
        .summary-remove-btn:hover {
            background: #ff4444;
        }
        
        .add-service-text {
            text-align: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .add-service-text small {
            color: #cccccc;
            font-size: 0.8rem;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .add-service-text small:hover {
            color: #FF3CAC;
        }
        
        /* Disclaimer Styles */
        .staff-allocation-disclaimer, .venue-payment-disclaimer {
            background: #1A1A1A;
            border: 1px solid rgba(255, 60, 172, 0.3);
            border-left: 4px solid #FF3CAC;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }
        
        .disclaimer-icon {
            color: #FF3CAC;
            font-size: 1.1rem;
            margin-top: 0.1rem;
            flex-shrink: 0;
        }
        
        .disclaimer-text {
            color: #cccccc;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .disclaimer-text strong {
            color: #ffffff;
            font-weight: 600;
        }
        
        .venue-payment-disclaimer {
            margin-top: 1rem;
            background: rgba(255, 60, 172, 0.05);
            border-color: rgba(255, 60, 172, 0.2);
        }
        
        .paynow-payment-disclaimer {
            margin-top: 1rem;
            background: #1A1A1A;
            border: 1px solid rgba(255, 60, 172, 0.3);
            border-left: 4px solid #FF3CAC;
            border-radius: 8px;
            padding: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }
        
        .booking-notes-disclaimer {
            margin-top: 0.5rem;
        }
        
        .booking-notes-disclaimer small {
            color: #888888;
            font-size: 0.8rem;
            font-style: italic;
        }

        /* Treatwell-style Checkout Options */
        .checkout-options-simple {
            background: #1A1A1A;
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .checkout-text {
            color: #cccccc;
            font-size: 0.95rem;
            margin: 0;
            text-align: center;
        }

        .checkout-link {
            color: #FF3CAC;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .checkout-link:hover {
            color: #FF6BCB;
            text-decoration: underline;
        }

        .checkout-link.guest-link {
            color: #0D9488;
        }

        .guest-text {
            color: #cccccc;
            font-weight: 400;
        }

        .checkout-form {
            background: #1A1A1A;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 60, 172, 0.2);
        }

        .checkout-form h4 {
            color: #ffffff;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn-secondary {
            background: #333;
            color: #ffffff;
            border: 1px solid #555;
            border-radius: 6px;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #444;
            border-color: #666;
        }

        .btn-primary {
            background: linear-gradient(135deg, #FF3CAC 0%, #784BA0 100%);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(255, 60, 172, 0.3);
        }

        .form-links {
            margin-top: 1rem;
            text-align: center;
        }

        .form-links a {
            color: #FF3CAC;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .form-links a:hover {
            text-decoration: underline;
        }

        /* Back Button Styling */
        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #ffffff;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 1rem;
        }

        .back-btn:hover {
            background: rgba(255, 60, 172, 0.2);
            border-color: rgba(255, 60, 172, 0.4);
            transform: translateX(-2px);
        }

        .back-btn i {
            font-size: 0.8rem;
        }

        /* No Services Message Styling */
        .no-services-message {
            background: #1A1A1A;
            border-radius: 12px;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .no-services-content {
            max-width: 400px;
            margin: 0 auto;
        }

        .no-services-icon {
            font-size: 3rem;
            color: #666;
            margin-bottom: 1rem;
            display: block;
        }

        .no-services-content h3 {
            color: #ffffff;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .no-services-content p {
            color: #cccccc;
            font-size: 1rem;
            margin-bottom: 2rem;
            line-height: 1.5;
        }

        .add-service-btn {
            background: linear-gradient(135deg, #FF3CAC 0%, #784BA0 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0 auto;
        }

        .add-service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 60, 172, 0.3);
        }

        .add-service-btn i {
            font-size: 0.9rem;
        }

        /* Reduce gap between selected services and booking section on desktop only */
        @media (min-width: 768px) {
            .booking-section {
                margin-top: -2rem;
            }
            
            .booking-form {
                margin-top: 0;
            }
        }
        
        .booking-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .booking-actions .btn-secondary:hover {
            background: #cccccc;
            color: #121212;
        }
        
        @media (max-width: 768px) {
            .booking-actions {
                flex-direction: column;
            }
            
            .booking-actions .btn-secondary {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 768px) {
            .staff-allocation-disclaimer, .venue-payment-disclaimer {
                margin: 1rem 0;
                padding: 0.875rem;
            }
            
            .disclaimer-text {
                font-size: 0.85rem;
            }
        }
        
        /* Confirmation Page Styles */
        .confirmation-page {
            background: #1A1A1A;
            border-radius: 12px;
            padding: 3rem;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .confirmation-header {
            margin-bottom: 3rem;
        }
        
        .success-icon {
            width: 80px;
            height: 80px;
            background: #10B981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            font-size: 2rem;
            color: white;
        }
        
        .confirmation-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1rem;
        }
        
        .confirmation-subtitle {
            color: #cccccc;
            font-size: 1.2rem;
        }
        
        .confirmation-details {
            text-align: left;
            margin-bottom: 3rem;
        }
        
        .detail-section {
            background: #2A2A2A;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .detail-section h3 {
            color: #FF3CAC;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .detail-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .detail-label {
            color: #cccccc;
            font-weight: 500;
        }
        
        .detail-value {
            color: #ffffff;
            font-weight: 600;
        }
        
        .business-info {
            background: #1A1A1A;
            border-radius: 6px;
            padding: 1rem;
        }
        
        .business-name {
            font-weight: 600;
            color: #FF3CAC;
            margin-bottom: 0.5rem;
        }
        
        .business-address, .business-phone {
            color: #cccccc;
            margin-bottom: 0.25rem;
        }
        
        .payment-info {
            background: #1A1A1A;
            border-radius: 6px;
            padding: 1rem;
        }
        
        .payment-method, .transaction-id, .payment-status {
            color: #ffffff;
            margin-bottom: 0.5rem;
        }
        
        .payment-notice, .success-notice {
            background: rgba(255, 60, 172, 0.1);
            border: 1px solid #FF3CAC;
            border-radius: 8px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .notice-icon {
            color: #FF3CAC;
            font-size: 1.5rem;
        }
        
        .notice-text {
            color: #ffffff;
            line-height: 1.5;
        }
        
        .confirmation-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 1rem 2rem;
            border-radius: 6px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            transform: translateY(-1px);
        }
        
        .btn-secondary { 
            background: transparent; 
            color: #FF3CAC;
            border: 2px solid #FF3CAC;
        }
        
        .btn-secondary:hover {
            background: #FF3CAC;
            color: white; 
        }
        
        @media (max-width: 768px) {
            .confirmation-page {
                padding: 2rem 1rem;
            }
            
            .confirmation-header h1 {
                font-size: 2rem;
            }
            
            .confirmation-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        .cta-button {
            width: 100%;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
            border: none;
            padding: 1rem 2rem; 
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer; 
            transition: all 0.3s;
            margin-top: 2rem;
            box-shadow: 0 4px 6px rgba(255, 60, 172, 0.3);
        }
        
        .cta-button:hover:not(:disabled) {
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            transform: translateY(-1px);
            box-shadow: 0 6px 8px rgba(255, 60, 172, 0.4);
        }
        
        .cta-button:disabled {
            background: #9CA3AF;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        /* Mobile touch improvements for CTA button */
        .cta-button {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            min-height: 44px; /* Minimum touch target size */
        }
        
        /* Calendar Styles */
        .calendar-container {
            margin-bottom: 2rem;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .calendar-nav {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #cccccc;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        .calendar-nav:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .calendar-month {
            font-weight: 600;
            font-size: 1.2rem;
            color: #ffffff;
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: #cccccc;
        }
        
        .calendar-day:hover {
            background: rgba(43, 134, 197, 0.2);
            border-color: #2B86C5;
        }
        
        .calendar-day.selected {
            background: #2B86C5;
            color: white;
            border: 2px solid #2B86C5;
            box-shadow: 0 0 8px rgba(43, 134, 197, 0.4);
            transform: scale(1.05);
        }
        
        .calendar-day.closed {
            background: #2A2A2A;
            color: #666666;
            cursor: not-allowed;
            opacity: 0.4;
            position: relative;
        }
        
        .calendar-day.closed:hover {
            background: #2A2A2A;
            transform: none;
        }
        
        .closed-text {
            font-size: 0.7rem;
            color: #999999;
            margin-top: 0.2rem;
        }
        
        .day-number {
            font-weight: 600;
        }
        
        .calendar-day.available {
            background: rgba(43, 134, 197, 0.1);
            color: #2B86C5;
            border: 1px solid rgba(43, 134, 197, 0.2);
        }
        
        .calendar-day.unavailable {
            color: #666666;
            cursor: not-allowed;
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .time-slot {
            padding: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            background: #1A1A1A;
            color: #ffffff;
        }
        
        .time-slot:hover {
            border-color: #FF3CAC;
            background: rgba(255, 60, 172, 0.1);
        }
        
        .time-slot.selected {
            border-color: #FF3CAC;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            color: white;
        }
        
        .time-slot.unavailable {
            background: #0F0F0F;
            color: #666666;
            cursor: not-allowed;
        }
        
        @media (max-width: 768px) {
            .booking-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .booking-sidebar {
                position: static;
                order: -1;
            }
            
            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .cta-button {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                margin: 0;
                border-radius: 0;
                z-index: 100;
            }
            
            body {
                padding-bottom: 80px;
            }
        }
        
        .service-name {
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 0.5rem;
        }
        
        .service-price {
            color: #FF3CAC;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .service-description {
            color: #cccccc;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }
        
        /* Reviews Section */
        .reviews-section {
            margin: 2rem 0;
        }
        
        .reviews-summary { 
            display: flex; 
            align-items: center; 
            gap: 2rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #2A2A2A;
            border-radius: 10px; 
        }
        
        .rating-display {
            text-align: center;
        }
        
        .rating-number {
            font-size: 3rem;
            font-weight: 700;
            color: #FF3CAC;
            margin-bottom: 0.5rem;
        }
        
        .rating-stars {
            color: #FFD700;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .rating-count {
            color: #cccccc;
            font-size: 0.9rem;
        }
        
        .reviews-section {
            background: #121212;
            padding: 4rem 0;
        }
        
        .reviews-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .review-item { 
            background: #2A2A2A;
            padding: 1.5rem;
            border-radius: 10px; 
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .review-header {
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .reviewer-name {
            font-weight: 600;
            color: #ffffff;
        }
        
        .review-date {
            color: #888;
            font-size: 0.9rem;
        }
        
        .review-rating {
            color: #FFD700;
            margin-bottom: 0.5rem;
        }
        
        .review-text {
            color: #cccccc;
            line-height: 1.5;
        }
        
        /* Google Maps */
        .map-container {
            margin: 2rem 0;
        }
        
        .map-iframe {
            width: 100%;
            height: 250px;
            border: none;
            border-radius: 10px;
        }
        
        /* Sticky CTA Button */
        .sticky-cta {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #FF3CAC, #784BA0);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 -5px 20px rgba(255, 60, 172, 0.3);
        }
        
        .sticky-cta button {
            background: white;
            color: #FF3CAC;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-height: 44px; /* Minimum touch target size for mobile */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
        }
        
        .sticky-cta button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .sticky-cta .secondary-btn {
            background: transparent;
            color: white;
            border: 2px solid white;
        }
        
        .sticky-cta .secondary-btn:hover {
            background: white;
            color: #FF3CAC;
        }
        
        /* Footer */
        .footer {
            background: #1A1A1A;
            color: white;
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 3rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-banner {
                flex-direction: column;
                text-align: center;
            }
            
            .business-logo {
                width: 100px;
                height: 100px;
                font-size: 2.5rem;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .gallery-slide {
                height: 250px;
            }
            
            .sticky-cta {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .sticky-cta button {
                width: 100%;
                justify-content: center;
                min-height: 48px; /* Larger touch target on mobile */
                font-size: 1rem;
                padding: 1.2rem 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-charcoal/95 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Desktop Navigation -->
            <div class="hidden lg:flex items-center justify-between h-16">
                <!-- Left: Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-white hover:text-neon-pink transition-colors duration-300">BlkPages</a>
                </div>
                
                <!-- Center: Main Navigation -->
                <div class="flex items-center space-x-8">
                    <a href="index.html" class="text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Home</a>
                    <a href="search-results.html" class="text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Browse</a>
                    <a href="offers.html" class="text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Offers</a>
                </div>
                
                <!-- Right: Actions -->
                <div class="flex items-center space-x-4">
                    <!-- Basket Icon -->
                    <div class="basket-icon" id="basketIcon" onclick="scrollToBooking()" style="position: relative; cursor: pointer; padding: 0.5rem; border-radius: 50%; background: rgba(13, 148, 136, 0.1); border: 1px solid rgba(13, 148, 136, 0.3); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px;">
                        <i class="fas fa-shopping-basket" style="color: #0D9488; font-size: 1.2rem;"></i>
                        <span class="basket-count" id="basketCount" style="position: absolute; top: -5px; right: -5px; background: #ff4444; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 600; border: 2px solid #1a1a1a;">0</span>
                    </div>
                    
                    <!-- Sign In / Customer Menu -->
                    <div class="auth-links" id="authLinks" style="align-items: center; gap: 0.5rem;">
                        <button id="loginBtn" class="text-white hover:text-neon-pink transition-colors duration-300 text-sm" onclick="toggleLoginModal()">
                            <i class="fas fa-sign-in-alt mr-1"></i>Sign In
                        </button>
                    </div>
                    
                    <!-- Customer Menu (for logged-in users) -->
                    <div class="customer-menu" id="customerMenu" style="display: none; position: relative;">
                        <button class="customer-initial" id="customerInitial" onclick="toggleCustomerMenu()" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #0D9488, #10B981); color: white; border: none; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(13, 148, 136, 0.3);">
                            <span id="customerInitialText">U</span>
                        </button>
                        <div class="customer-dropdown" id="customerDropdown" style="display: none; position: absolute; top: 100%; right: 0; background: rgba(26, 26, 26, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); min-width: 150px; z-index: 1000; margin-top: 0.5rem;">
                            <a href="customer-dashboard.html" class="dropdown-item" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; color: #ffffff; text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                                <i class="fas fa-user"></i>
                                Account
                            </a>
                            <a href="#" onclick="signOut()" class="dropdown-item" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; color: #ffffff; text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease;">
                                <i class="fas fa-sign-out-alt"></i>
                                Sign Out
                            </a>
                        </div>
                    </div>
                    
                    <!-- List Business Button -->
                    <a href="business-register.html" class="px-3 py-2 rounded-full bg-gradient-to-r from-neon-green to-green-500 text-white font-semibold hover:from-green-500 hover:to-green-600 transition-all duration-300 text-sm">
                        <i class="fas fa-plus mr-1"></i>List Business
                    </a>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div class="lg:hidden flex items-center justify-between h-16">
                <!-- Left: Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="text-xl font-bold text-white hover:text-neon-pink transition-colors duration-300">BlkPages</a>
                </div>
                
                <!-- Right: Actions -->
                <div class="flex items-center space-x-3">
                    <!-- Basket Icon -->
                    <div class="basket-icon" id="mobileBasketIcon" onclick="scrollToBooking()" style="position: relative; cursor: pointer; padding: 0.5rem; border-radius: 50%; background: rgba(13, 148, 136, 0.1); border: 1px solid rgba(13, 148, 136, 0.3); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px;">
                        <i class="fas fa-shopping-basket" style="color: #0D9488; font-size: 1.2rem;"></i>
                        <span class="basket-count" id="mobileBasketCount" style="position: absolute; top: -5px; right: -5px; background: #ff4444; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 600; border: 2px solid #1a1a1a;">0</span>
                    </div>
                    
                    <!-- Account Icon -->
                    <div class="auth-links" id="mobileAuthLinks" style="align-items: center; gap: 0.5rem;">
                        <button id="mobileLoginBtn" class="text-white hover:text-neon-pink transition-colors duration-300 text-sm" onclick="toggleLoginModal()">
                            <i class="fas fa-sign-in-alt"></i>
                        </button>
                    </div>
                    
                    <!-- Customer Menu (Mobile) -->
                    <div class="customer-menu" id="mobileCustomerMenu" style="display: none; position: relative;">
                        <button class="customer-initial" id="mobileCustomerInitial" onclick="toggleCustomerMenu()" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #0D9488, #10B981); color: white; border: none; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(13, 148, 136, 0.3);">
                            <span id="mobileCustomerInitialText">U</span>
                        </button>
                        <div class="customer-dropdown" id="mobileCustomerDropdown" style="display: none; position: absolute; top: 100%; right: 0; background: rgba(26, 26, 26, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); min-width: 150px; z-index: 1000; margin-top: 0.5rem;">
                            <a href="customer-dashboard.html" class="dropdown-item" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; color: #ffffff; text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                                <i class="fas fa-user"></i>
                                Account
                            </a>
                            <a href="#" onclick="signOut()" class="dropdown-item" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; color: #ffffff; text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease;">
                                <i class="fas fa-sign-out-alt"></i>
                                Sign Out
                            </a>
                        </div>
                    </div>
                    
                    <!-- Hamburger Menu -->
                    <button class="text-white hover:text-neon-pink transition-colors duration-300" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="lg:hidden hidden bg-charcoal/95 backdrop-blur-md border-t border-white/10">
                <div class="px-4 py-4 space-y-4">
                    <a href="index.html" class="block text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Home</a>
                    <a href="search-results.html" class="block text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Browse</a>
                    <a href="offers.html" class="block text-text-secondary hover:text-neon-pink transition-colors duration-300 font-medium">Offers</a>
                    <a href="business-register.html" class="block text-neon-green hover:text-green-400 transition-colors duration-300 font-medium">
                        <i class="fas fa-plus mr-2"></i>List Business
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-black/90 backdrop-blur-md rounded-2xl p-8 max-w-md w-full border border-white/10">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold gradient-text">Login</h3>
                    <button onclick="toggleLoginModal()" class="text-white/70 hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="mb-4">
                        <label class="block text-white/70 mb-2">Email</label>
                        <input type="email" required class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-neon-pink" placeholder="customer@example.com">
                    </div>
                    <div class="mb-6">
                        <label class="block text-white/70 mb-2">Password</label>
                        <input type="password" required class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-neon-pink" placeholder="password123">
                    </div>
                    <button type="submit" class="w-full py-3 rounded-lg bg-gradient-to-r from-neon-pink to-neon-purple text-white font-semibold hover:from-neon-purple hover:to-neon-blue transition-all duration-300">
                        Login
                    </button>
                </form>
                <div class="mt-4 text-center">
                    <p class="text-white/70 text-sm">Don't have an account? <a href="customer-register.html" class="text-neon-pink hover:text-neon-purple transition-colors duration-300">Sign up</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Banner -->
            <div class="container">
        <div class="hero-banner">
            <div class="business-logo">
                <i class="fas fa-cut"></i>
            </div>
                <div class="business-info">
                        <h1>Royal Hair Studio</h1>
                <div class="business-category">Hair Salon</div>
                <div class="business-rating">
                    <div class="stars">★★★★★</div>
                    <div class="rating-text">4.8 (127 reviews)</div>
                </div>
                <p class="business-description">
                    Professional hair salon specializing in natural hair care, styling, and treatments for all hair types. 
                    Our experienced stylists provide personalized service in a welcoming, modern environment.
                            </p>
                        </div>
                            </div>
                        </div>
                        
    <!-- Photo Gallery -->
    <div class="container">
        <div class="photo-gallery">
            <h2 class="gallery-title">Gallery</h2>
            <div class="gallery-container">
                <div class="gallery-slides" id="gallerySlides">
                    <div class="gallery-slide"></div>
                    <div class="gallery-slide"></div>
                    <div class="gallery-slide"></div>
                        </div>
                <button class="gallery-nav gallery-prev" onclick="changeSlide(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="gallery-nav gallery-next" onclick="changeSlide(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="gallery-dots">
                    <button class="gallery-dot active" onclick="currentSlide(1)"></button>
                    <button class="gallery-dot" onclick="currentSlide(2)"></button>
                    <button class="gallery-dot" onclick="currentSlide(3)"></button>
                    </div>
                            </div>
                            </div>
                        </div>
                        
                <!-- Main Content -->
    <div class="container">
        <div class="content-wrapper">
            <div class="content-main">
                    <!-- About Section -->
                <div class="card">
                        <h2>About Royal Hair Studio</h2>
                    <p style="color: #cccccc; line-height: 1.6; margin-bottom: 1rem;">
                        With over 10 years of experience in the hair industry, Royal Hair Studio has become a trusted name 
                        in London's beauty scene. We specialize in natural hair care, protective styling, and modern cuts 
                        that enhance your natural beauty.
                    </p>
                    <p style="color: #cccccc; line-height: 1.6;">
                        Our team of certified stylists stays up-to-date with the latest techniques and trends, ensuring 
                        you receive the highest quality service. We use premium products and maintain the highest standards 
                        of hygiene and professionalism.
                    </p>
                    </div>
                    
                    <!-- Services Section -->
                <div class="card">
                    <h2>Services & Prices</h2>
                        <div class="services-grid">
                        <div class="service-item">
                            <div class="service-info">
                                <div class="service-name">Hair Cut & Style</div>
                                <div class="service-price">£45</div>
                                <div class="service-description">Professional cut and styling for all hair types</div>
                            </div>
                            <button class="add-service-btn" onclick="addService('Hair Cut & Style', 45, 30)">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        <div class="service-item">
                            <div class="service-info">
                                <div class="service-name">Hair Coloring</div>
                                <div class="service-price">£85</div>
                                <div class="service-description">Full color service with premium products</div>
                            </div>
                            <button class="add-service-btn" onclick="addService('Hair Coloring', 85, 90)">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        <div class="service-item">
                            <div class="service-info">
                                <div class="service-name">Deep Conditioning</div>
                                <div class="service-price">£35</div>
                                <div class="service-description">Intensive treatment for damaged hair</div>
                            </div>
                            <button class="add-service-btn" onclick="addService('Deep Conditioning', 35, 45)">
                                <i class="fas fa-plus"></i> Add
                            </button>
                            </div>
                        <div class="service-item">
                            <div class="service-info">
                                <div class="service-name">Bridal Package</div>
                                <div class="service-price">£150</div>
                                <div class="service-description">Complete bridal hair styling package</div>
                            </div>
                            <button class="add-service-btn" onclick="addService('Bridal Package', 150, 120)">
                                <i class="fas fa-plus"></i> Add
                            </button>
                            </div>
                            </div>
                    
                    <!-- Selected Services Display -->
                    <div id="selected-services" class="selected-services" style="display: none;">
                        <h3>Selected Services</h3>
                        <div id="selected-services-list"></div>
                        <div class="total-price">
                            <strong>Total: £<span id="total-price">0</span></strong>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="content-sidebar">
                <!-- Contact Information -->
                <div class="card">
                    <h2>Contact Information</h2>
                    <div class="contact-info">
                        <div class="contact-item">
                            <div class="contact-icon">📍</div>
                            <div class="contact-details">
                                <h4>Address</h4>
                                <p>123 Beauty Street<br>London SW1A 1AA</p>
                                </div>
                            </div>
                            
                        <div class="contact-item">
                            <div class="contact-icon">📞</div>
                            <div class="contact-details">
                                <h4>Phone</h4>
                                <p>+44 20 7123 4567</p>
                                    </div>
                                </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon">🌐</div>
                            <div class="contact-details">
                                <h4>Website</h4>
                                <p>www.royalhairstudio.com</p>
                                </div>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon">⏰</div>
                            <div class="contact-details">
                                <h4>Opening Hours</h4>
                                <p>Mon-Fri: 9:00 AM - 6:00 PM<br>Sat: 9:00 AM - 5:00 PM<br>Sun: Closed</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="card">
                    <h2>Quick Actions</h2>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <button style="width: 100%; background: transparent; color: #FF3CAC; border: 2px solid #FF3CAC; padding: 1rem; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#FF3CAC'; this.style.color='white'" onmouseout="this.style.background='transparent'; this.style.color='#FF3CAC'">
                                <i class="fas fa-phone"></i> Call Now
                        </button>
                        <button style="width: 100%; background: transparent; color: #FF3CAC; border: 2px solid #FF3CAC; padding: 1rem; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#FF3CAC'; this.style.color='white'" onmouseout="this.style.background='transparent'; this.style.color='#FF3CAC'">
                            <i class="fas fa-share"></i> Share
                        </button>
                        </div>
                    </div>
                    
                <!-- Map -->
                <div class="card">
                    <h2>Location</h2>
                    <div class="map-container">
                        <iframe 
                            class="map-iframe"
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2483.123456789!2d-0.1278!3d51.5074!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTHCsDMwJzI2LjYiTiAwwrAwNyc0MC4xIlc!5e0!3m2!1sen!2suk!4v1234567890123!5m2!1sen!2suk"
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sticky CTA Button -->
    <div class="sticky-cta">
        <button onclick="bookAppointment()">
            <i class="fas fa-calendar-plus"></i> Book Now
        </button>
        <button class="secondary-btn" onclick="callBusiness()">
            <i class="fas fa-phone"></i> Call
        </button>
    </div>
                    
    <!-- Booking Section -->
    <div id="booking-section" class="booking-section" style="display: none;">
        <div class="container">
            <div class="booking-content">
                <div class="booking-form">
                    <h2>Complete Your Booking</h2>
                    
                    <!-- Selected Services -->
                    <div class="booking-services">
                        <h3>Selected Services</h3>
                        <div id="booking-services-list"></div>
                        <div class="add-more-services">
                            <button class="add-more-btn" onclick="showServiceSelection()">
                                <i class="fas fa-plus"></i> Add Another Treatment
                            </button>
                        </div>
                    </div>
                    
                    <!-- Date & Time Selection -->
                    <div class="booking-datetime">
                        <h3>Select Date & Time</h3>
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button class="calendar-nav" onclick="changeMonth(-1)">
                                    <i class="fas fa-chevron-left"></i>
                            </button>
                                <div class="calendar-month" id="currentMonth">December 2024</div>
                                <button class="calendar-nav" onclick="changeMonth(1)">
                                    <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                            <div class="calendar-days" id="calendarDays"></div>
                    </div>
                        <div class="time-slots" id="timeSlots"></div>
                </div>
                    
                    <!-- Treatwell-style Login/Guest Options -->
                    <div class="checkout-options-simple">
                        <p class="checkout-text">
                            <a href="#" class="checkout-link" onclick="saveBasketContents(); toggleLoginModal();">Sign in</a> or 
                            <a href="customer-register.html" class="checkout-link" onclick="saveBasketContents()">sign up</a> 
                            to save your details, or 
                            <span class="guest-text">continue as guest</span>
                        </p>
                    </div>


                    <!-- No Services Message (Hidden by default) -->
                    <div class="no-services-message" id="noServicesMessage" style="display: none;">
                        <div class="no-services-content">
                            <i class="fas fa-shopping-cart no-services-icon"></i>
                            <h3>No Services Selected</h3>
                            <p>You haven't selected any services yet. Choose from our range of treatments below.</p>
                            <button onclick="scrollToServices()" class="add-service-btn">
                                <i class="fas fa-plus"></i>
                                <span>Add Service</span>
                            </button>
                        </div>
                    </div>

                    <!-- Customer Details (Hidden until checkout method selected) -->
                    <div class="booking-details" id="customerDetails" style="display: none;">
                        <h3>Your Details</h3>
                        <div class="form-group">
                            <label class="form-label">Full Name *</label>
                            <input type="text" class="form-input" id="fullName" required>
            </div>
                        <div class="form-group">
                            <label class="form-label">Email Address *</label>
                            <input type="email" class="form-input" id="email" required>
        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number *</label>
                            <input type="tel" class="form-input" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Booking Notes (Optional)</label>
                            <textarea class="form-textarea" id="bookingNotes" placeholder="Any special requests or notes for your appointment..."></textarea>
                            <div class="booking-notes-disclaimer">
                                <small>These notes will be passed to the business. BlkPages does not monitor or edit these notes.</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Staff Allocation Disclaimer -->
                    <div class="staff-allocation-disclaimer">
                        <div class="disclaimer-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="disclaimer-text">
                            <strong>Staff Allocation:</strong> Appointments are booked with the first available stylist or therapist. If you would like to see a specific person, please contact the business directly to confirm availability.
                        </div>
                    </div>
                    
                    <!-- Payment Options -->
                    <div class="booking-payment">
                        <h3>Payment Options</h3>
                        <div class="payment-options">
                            <div class="payment-option" onclick="selectPayment('payNow')">
                                <div class="payment-header">
                                    <div class="payment-icon">
                                        <i class="fas fa-credit-card"></i>
                                    </div>
                                    <div>
                                        <div class="payment-title">Pay Now</div>
                                        <div class="payment-description">Secure payment with card or digital wallet</div>
                                    </div>
                                </div>
                            </div>
                            <div class="payment-option" onclick="selectPayment('payAtVenue')">
                                <div class="payment-header">
                                    <div class="payment-icon">
                                        <i class="fas fa-store"></i>
                                    </div>
                                    <div>
                                        <div class="payment-title">Pay at Venue</div>
                                        <div class="payment-description">Pay when you arrive at the salon</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pay at Venue Disclaimer -->
                        <div class="venue-payment-disclaimer" id="venuePaymentDisclaimer" style="display: none;">
                            <div class="disclaimer-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="disclaimer-text">
                                This business has chosen to allow payment at venue. BlkPages does not handle payments or refunds for this booking.
                            </div>
                        </div>
                        
                        <!-- Pay Now Disclaimer -->
                        <div class="paynow-payment-disclaimer" id="payNowPaymentDisclaimer" style="display: none;">
                            <div class="disclaimer-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="disclaimer-text">
                                Payments are processed by BlkPages via Stripe, on behalf of Royal Hair Studio. Your contract of service is with Royal Hair Studio, not BlkPages. Refunds are subject to the venue's cancellation policy.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Policies -->
                    <div class="booking-policies">
                        <div class="policy-checkbox">
                            <input type="checkbox" id="marketingPlatform">
                            <label for="marketingPlatform">Receive marketing emails from BlkPages</label>
                        </div>
                        <div class="policy-checkbox">
                            <input type="checkbox" id="marketingBusiness">
                            <label for="marketingBusiness">Receive marketing emails from Royal Hair Studio</label>
                        </div>
                        
                        <!-- Required Terms & Conditions Checkbox -->
                        <div class="required-terms-checkbox">
                            <input type="checkbox" id="acceptTerms" onchange="updateBookingButton()" required>
                            <label for="acceptTerms" class="required-label">
                                <span class="required-asterisk">*</span>
                                By completing this booking, I agree to Royal Hair Studio's booking policy as well as BlkPages 
                                <a href="terms.html" target="_blank" class="terms-link">Terms & Conditions</a> and 
                                <a href="privacy.html" target="_blank" class="terms-link">Privacy Policy</a>.
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Booking Summary Sidebar -->
                <div class="booking-sidebar">
                    <h3>Booking Summary</h3>
                    <div class="booking-summary">
                        <div class="summary-services-list" id="summaryServicesList">
                            <!-- Services will be populated here -->
                        </div>
                        <div class="add-service-text">
                            <small onclick="showServiceSelection()">Add service</small>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Date</span>
                            <span class="summary-value" id="summaryDate">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Time</span>
                            <span class="summary-value" id="summaryTime">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Duration</span>
                            <span class="summary-value" id="summaryDuration">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total</span>
                            <span class="summary-value" id="summaryTotal">£0</span>
                        </div>
                    </div>
                    
                    <div class="booking-actions">
                        <button class="cta-button" id="completeBooking" disabled style="background: #666666; opacity: 0.5; cursor: not-allowed;">
                            Accept Terms, Select Service, Date, Time, Payment Method
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Reviews Section -->
    <div class="reviews-section">
        <div class="container">
            <div class="card">
                <h2>Customer Reviews</h2>
                <div class="reviews-summary">
                    <div class="rating-display">
                        <div class="rating-number">4.8</div>
                        <div class="rating-stars">★★★★★</div>
                        <div class="rating-count">Based on 127 reviews</div>
                    </div>
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <span style="color: #cccccc; font-size: 0.9rem; width: 20px;">5</span>
                            <div style="flex: 1; height: 8px; background: #333; border-radius: 4px; overflow: hidden;">
                                <div style="height: 100%; background: #FFD700; border-radius: 4px; width: 85%;"></div>
                            </div>
                            <span style="color: #cccccc; font-size: 0.9rem; width: 30px;">85%</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <span style="color: #cccccc; font-size: 0.9rem; width: 20px;">4</span>
                            <div style="flex: 1; height: 8px; background: #333; border-radius: 4px; overflow: hidden;">
                                <div style="height: 100%; background: #FFD700; border-radius: 4px; width: 12%;"></div>
                            </div>
                            <span style="color: #cccccc; font-size: 0.9rem; width: 30px;">12%</span>
                        </div>
                    </div>
                </div>
                
                <div class="reviews-list">
                    <div class="review-item">
                        <div class="review-header">
                            <div class="reviewer-name">Sarah Johnson</div>
                            <div class="review-date">2 days ago</div>
                        </div>
                        <div class="review-rating">★★★★★</div>
                        <div class="review-text">
                            "Amazing service! The stylist really understood what I wanted and my hair looks fantastic. 
                            The salon is clean and professional. Highly recommend!"
                        </div>
                    </div>
                    
                    <div class="review-item">
                        <div class="review-header">
                            <div class="reviewer-name">Michael Brown</div>
                            <div class="review-date">1 week ago</div>
                        </div>
                        <div class="review-rating">★★★★★</div>
                        <div class="review-text">
                            "Best haircut I've had in years! The barber was professional and took his time. 
                            Great atmosphere and friendly staff."
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 BlkPages – Supporting Black-owned Businesses</p>
                </div>
    </footer>

    <script>
        // Gallery functionality
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.gallery-slide');
        const dots = document.querySelectorAll('.gallery-dot');
        
        function showSlide(index) {
            const slidesContainer = document.getElementById('gallerySlides');
            slidesContainer.style.transform = `translateX(-${index * 100}%)`;
            
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }
        
        function changeSlide(direction) {
            currentSlideIndex += direction;
            if (currentSlideIndex >= slides.length) currentSlideIndex = 0;
            if (currentSlideIndex < 0) currentSlideIndex = slides.length - 1;
            showSlide(currentSlideIndex);
        }
        
        function currentSlide(index) {
            currentSlideIndex = index - 1;
            showSlide(currentSlideIndex);
        }
        
        // Auto-slide every 5 seconds
        setInterval(() => {
            changeSlide(1);
        }, 5000);
        
        // Service selection and booking functionality
        let selectedServices = [];
        let selectedDate = null;
        let selectedTime = null;
        let selectedPayment = null;
        
        function addService(name, price, duration) {
            console.log('Adding service:', name, price, duration);
            
            // Check if service already exists
            const existingService = selectedServices.find(service => service.name === name);
            if (existingService) {
                alert('This service is already selected');
                return;
            }
            
            // Add service to selection
            selectedServices.push({ name, price, duration });
            console.log('Selected services after adding:', selectedServices);
            
            updateSelectedServices();
            updateBookingSummary();
            updateBookingServicesList();
            updateCompleteBookingButton();
            
            // Hide no services message and show booking section
            hideNoServicesMessage();
            const bookingSection = document.getElementById('booking-section');
            const customerDetails = document.getElementById('customerDetails');
            console.log('Booking section element:', bookingSection);
            console.log('Customer details element:', customerDetails);
            
            if (bookingSection) {
                bookingSection.style.display = 'block';
                // Initialize calendar when booking section is shown
                initializeCalendar();
                console.log('Booking section automatically shown after adding service');
            } else {
                console.error('Booking section not found!');
            }
            
            if (customerDetails) {
                customerDetails.style.display = 'block';
                console.log('Customer details section shown');
            } else {
                console.error('Customer details section not found!');
            }
        }
        
        function removeService(name) {
            console.log('Removing service:', name);
            selectedServices = selectedServices.filter(service => service.name !== name);
            console.log('Selected services after removal:', selectedServices);
            
            updateSelectedServices();
            updateBookingSummary();
            updateBookingServicesList();
            updateCompleteBookingButton();
            
            // Clear selected date and time when service is removed
            selectedDate = null;
            selectedTime = null;
            
            // Clear any selected calendar day classes
            document.querySelectorAll('.calendar-day').forEach(el => el.classList.remove('selected'));
            
            // Reset calendar and time slots
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            generateCalendarDays(currentYear, currentMonth);
            document.getElementById('timeSlots').innerHTML = '';
            
            // Check if all services are removed
            if (selectedServices.length === 0) {
                console.log('No services left, hiding booking section');
                // Hide the "Complete Your Booking" section
                const bookingSection = document.getElementById('booking-section');
                const customerDetails = document.getElementById('customerDetails');
                console.log('Booking section element for hiding:', bookingSection);
                console.log('Customer details element for hiding:', customerDetails);
                
                if (bookingSection) {
                    bookingSection.style.display = 'none';
                }
                
                if (customerDetails) {
                    customerDetails.style.display = 'none';
                }
                
                // Show "no services" message with add service button
                showNoServicesMessage();
                console.log('All services removed, booking section hidden');
                
                // Scroll to services section so they can re-add
                scrollToServices();
            } else {
                // Scroll up to services section if there are still services
                scrollToServices();
            }
            
            console.log('Service removed, date/time cleared');
        }
        
        function updateSelectedServices() {
            const selectedServicesDiv = document.getElementById('selected-services');
            const selectedServicesList = document.getElementById('selected-services-list');
            const totalPriceSpan = document.getElementById('total-price');
            
            if (selectedServices.length === 0) {
                selectedServicesDiv.style.display = 'none';
                return;
            }
            
            selectedServicesDiv.style.display = 'block';
            selectedServicesList.innerHTML = '';
            
            let totalPrice = 0;
            selectedServices.forEach(service => {
                const serviceItem = document.createElement('div');
                serviceItem.className = 'selected-service-item';
                serviceItem.innerHTML = `
                    <div class="selected-service-info">
                        <div class="selected-service-name">${service.name}</div>
                        <div class="selected-service-price">£${service.price}</div>
                </div>
                    <button class="remove-service-btn" onclick="removeService('${service.name}')">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                selectedServicesList.appendChild(serviceItem);
                totalPrice += service.price;
            });
            
            totalPriceSpan.textContent = totalPrice;
        }
        
        function showServiceSelection() {
            // Scroll back to services section
            document.querySelector('.services-grid').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        // CTA Button functions

        function selectGuestCheckout() {
            // Hide checkout options and show customer details
            document.querySelector('.checkout-options-simple').style.display = 'none';
            document.getElementById('customerDetails').style.display = 'block';
            
            console.log('Guest checkout selected');
        }

        // Check if user is logged in and pre-fill details
        function checkUserLogin() {
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            if (isLoggedIn) {
                // Hide checkout options and show customer details
                document.querySelector('.checkout-options-simple').style.display = 'none';
                document.getElementById('customerDetails').style.display = 'block';
                
                // Pre-fill customer details
                const userEmail = localStorage.getItem('userEmail');
                const userName = localStorage.getItem('userName');
                const userPhone = localStorage.getItem('userPhone');
                
                if (userEmail) document.getElementById('email').value = userEmail;
                if (userName) document.getElementById('fullName').value = userName;
                if (userPhone) document.getElementById('phone').value = userPhone;
                
                // Restore basket contents if they exist
                restoreBasketContents();
                
                console.log('User is logged in, details pre-filled and basket restored');
            }
        }

        // Save basket contents before redirecting to login/register
        function saveBasketContents() {
            const basketData = {
                selectedServices: selectedServices,
                selectedDate: selectedDate,
                selectedTime: selectedTime,
                selectedPayment: selectedPayment,
                timestamp: Date.now()
            };
            localStorage.setItem('basketContents', JSON.stringify(basketData));
            console.log('Basket contents saved:', basketData);
        }

        // Restore basket contents after login/register
        function restoreBasketContents() {
            const savedBasket = localStorage.getItem('basketContents');
            if (savedBasket) {
                try {
                    const basketData = JSON.parse(savedBasket);
                    // Only restore if it's recent (within 1 hour)
                    if (Date.now() - basketData.timestamp < 3600000) {
                        selectedServices = basketData.selectedServices || [];
                        selectedDate = basketData.selectedDate ? new Date(basketData.selectedDate) : null;
                        selectedTime = basketData.selectedTime;
                        selectedPayment = basketData.selectedPayment;
                        
                        // Update UI with restored data
                        updateSelectedServices();
                        updateBookingSummary();
                        updateBookingServicesList();
                        updateCompleteBookingButton();
                        
                        // Show booking section if services were restored
                        if (selectedServices.length > 0) {
                            const bookingSection = document.getElementById('booking-section');
                            if (bookingSection) {
                                bookingSection.style.display = 'block';
                                initializeCalendar();
                            }
                        }
                        
                        console.log('Basket contents restored:', basketData);
                    } else {
                        // Clear old basket data
                        localStorage.removeItem('basketContents');
                    }
                } catch (error) {
                    console.error('Error restoring basket:', error);
                }
            }
        }

        // Run check on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkUserLogin();
            
            // Debug: Check if booking section exists
            const bookingSection = document.getElementById('booking-section');
            console.log('Page loaded - Booking section found:', bookingSection);
            console.log('Booking section display style:', bookingSection ? bookingSection.style.display : 'not found');
            
            // Initialize calendar on page load
            initializeCalendar();
        });

        // Back button function
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                // If no history, go to homepage
                window.location.href = 'index.html';
            }
        }

        // No services message functions
        function showNoServicesMessage() {
            const noServicesMessage = document.getElementById('noServicesMessage');
            if (noServicesMessage) {
                noServicesMessage.style.display = 'block';
                console.log('No services message shown');
            }
        }

        function hideNoServicesMessage() {
            const noServicesMessage = document.getElementById('noServicesMessage');
            if (noServicesMessage) {
                noServicesMessage.style.display = 'none';
                console.log('No services message hidden');
            }
        }

        function scrollToServices() {
            // Find the services section
            const servicesSection = document.querySelector('.services-section') || 
                                  document.querySelector('[class*="service"]') || 
                                  document.querySelector('h2') ||
                                  document.querySelector('.card');
            
            if (servicesSection) {
                servicesSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
                console.log('Scrolled to services section');
            }
        }

        function bookAppointment() {
            // First check if they have selected any services
            if (selectedServices.length === 0) {
                // Show popup telling them to pick a service first
                showBookingPopup(['Select a Service']);
                return;
            }
            
            // If services are selected but no date/time, scroll to booking section
            if (!selectedDate || !selectedTime) {
                document.getElementById('booking-section').style.display = 'block';
                document.getElementById('booking-section').scrollIntoView({ 
                    behavior: 'smooth' 
                });
                
                // Initialize calendar
                initializeCalendar();
                updateBookingServicesList();
                return;
            }
            
            // If date and time are selected, then check all other required fields
            const termsAccepted = document.getElementById('acceptTerms').checked;
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            const missingItems = [];
            
            if (!termsAccepted) {
                missingItems.push('Accept Terms & Conditions');
            }
            if (!selectedPayment) {
                missingItems.push('Select Payment Method');
            }
            if (!fullName) {
                missingItems.push('Enter Your Name');
            }
            if (!email || !emailRegex.test(email)) {
                missingItems.push('Enter Valid Email');
            }
            if (!phone) {
                missingItems.push('Enter Phone Number');
            }
            
            if (missingItems.length > 0) {
                // Show popup with missing items
                showBookingPopup(missingItems);
                return;
            }
            
            // If all fields are complete, proceed with booking
            completeBooking();
        }
        
        function showBookingPopup(missingItems) {
            // Create popup overlay
            const overlay = document.createElement('div');
            overlay.id = 'booking-popup-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 1rem;
            `;
            
            // Create popup content
            const popup = document.createElement('div');
            popup.style.cssText = `
                background: #1A1A1A;
                border-radius: 12px;
                padding: 2rem;
                max-width: 400px;
                width: 100%;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                text-align: center;
            `;
            
            popup.innerHTML = `
                <div style="color: #FF3CAC; font-size: 1.5rem; margin-bottom: 1rem;">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 style="color: #ffffff; font-size: 1.3rem; margin-bottom: 1rem;">
                    Complete Your Booking Details
                </h3>
                <p style="color: #cccccc; margin-bottom: 1.5rem; line-height: 1.5;">
                    Please complete the following before booking:
                </p>
                <div style="text-align: left; margin-bottom: 2rem;">
                    ${missingItems.map(item => `
                        <div style="color: #FF3CAC; margin-bottom: 0.5rem; display: flex; align-items: center;">
                            <i class="fas fa-times" style="margin-right: 0.5rem; font-size: 0.8rem;"></i>
                            ${item}
                        </div>
                    `).join('')}
                </div>
                <button onclick="closeBookingPopup()" style="
                    background: linear-gradient(135deg, #FF3CAC, #784BA0);
                    color: white;
                    border: none;
                    padding: 1rem 2rem;
                    border-radius: 6px;
                    font-weight: 600;
                    cursor: pointer;
                    font-size: 1rem;
                    width: 100%;
                ">
                    <i class="fas fa-check"></i> Got It
                </button>
            `;
            
            overlay.appendChild(popup);
            document.body.appendChild(overlay);
            
            // Close popup when clicking overlay
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    closeBookingPopup();
                }
            });
        }
        
        function closeBookingPopup() {
            const overlay = document.getElementById('booking-popup-overlay');
            if (overlay) {
                overlay.remove();
            }
            
            // Scroll to Services & Prices section
            setTimeout(() => {
                console.log('Attempting to scroll to Services section...');
                
                // Try multiple selectors to find the services section
                let targetElement = null;
                
                // Method 1: Look for Services & Prices heading
                const allHeadings = document.querySelectorAll('h2');
                for (let heading of allHeadings) {
                    if (heading.textContent.includes('Services & Prices')) {
                        targetElement = heading;
                        console.log('Found Services heading:', heading);
                        break;
                    }
                }
                
                // Method 2: Look for services section by class or ID
                if (!targetElement) {
                    targetElement = document.querySelector('.services-section') || 
                                  document.querySelector('#services-section') ||
                                  document.querySelector('[class*="service"]');
                    console.log('Found services section by class:', targetElement);
                }
                
                // Method 3: Look for any card containing services
                if (!targetElement) {
                    const cards = document.querySelectorAll('.card');
                    for (let card of cards) {
                        if (card.textContent.includes('Services') || card.textContent.includes('Prices')) {
                            targetElement = card;
                            console.log('Found services card:', card);
                            break;
                        }
                    }
                }
                
                if (targetElement) {
                    console.log('Scrolling to element:', targetElement);
                    targetElement.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                } else {
                    console.log('No services section found, scrolling to top');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }, 200); // Increased delay to ensure popup is fully removed
        }
        
        function updateBookingServicesList() {
            const bookingServicesList = document.getElementById('booking-services-list');
            bookingServicesList.innerHTML = '';
            
            selectedServices.forEach(service => {
                const serviceItem = document.createElement('div');
                serviceItem.className = 'selected-service-item';
                serviceItem.innerHTML = `
                    <div class="selected-service-info">
                        <div class="selected-service-name">${service.name}</div>
                        <div class="selected-service-price">£${service.price}</div>
            </div>
                    <button class="remove-service-btn" onclick="removeService('${service.name}')">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                bookingServicesList.appendChild(serviceItem);
            });
        }
        
        function initializeCalendar() {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            document.getElementById('currentMonth').textContent = 
                new Date(currentYear, currentMonth).toLocaleDateString('en-US', { 
                    month: 'long', 
                    year: 'numeric' 
                });
            
            generateCalendarDays(currentYear, currentMonth);
        }
        
        function generateCalendarDays(year, month) {
            const calendarDays = document.getElementById('calendarDays');
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Business closed days (example: Sundays and Mondays)
            const businessClosedDays = [0, 1]; // Sunday = 0, Monday = 1
            
            // Clear existing days
            calendarDays.innerHTML = '';
            
            // Add day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.textContent = day;
                dayHeader.style.fontWeight = '600';
                dayHeader.style.color = '#cccccc';
                dayHeader.style.textAlign = 'center';
                dayHeader.style.padding = '0.5rem';
                calendarDays.appendChild(dayHeader);
            });
            
            // Add empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                calendarDays.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                const currentDate = new Date(year, month, day);
                const dayOfWeek = currentDate.getDay();
                
                // Check if business is closed on this day
                const isClosed = businessClosedDays.includes(dayOfWeek);
                
                if (isClosed) {
                    dayElement.className = 'calendar-day closed';
                    dayElement.innerHTML = `
                        <div class="day-number">${day}</div>
                        <div class="closed-text">Closed</div>
                    `;
                    dayElement.style.cursor = 'not-allowed';
                    dayElement.style.opacity = '0.4';
                } else {
                    dayElement.className = 'calendar-day available';
                    dayElement.textContent = day;
                    dayElement.onclick = () => selectDate(day, month, year);
                }
                
                calendarDays.appendChild(dayElement);
            }
        }
        
        function changeMonth(direction) {
            // Implementation for month navigation
            console.log('Change month:', direction);
        }
        
        function selectDate(day, month, year) {
            selectedDate = new Date(year, month, day);
            document.querySelectorAll('.calendar-day').forEach(el => el.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Generate time slots for selected date
            generateTimeSlots();
            updateBookingSummary();
        }
        
        function generateTimeSlots() {
            const timeSlots = document.getElementById('timeSlots');
            const slots = [
                { time: '9:00 AM', available: true },
                { time: '10:30 AM', available: true },
                { time: '12:00 PM', available: true },
                { time: '1:30 PM', available: false },
                { time: '3:00 PM', available: true },
                { time: '4:30 PM', available: true },
                { time: '6:00 PM', available: false }
            ];
            
            timeSlots.innerHTML = '';
            
            slots.forEach(slot => {
                const slotElement = document.createElement('div');
                slotElement.className = `time-slot ${slot.available ? 'available' : 'unavailable'}`;
                slotElement.textContent = slot.time;
                
                if (slot.available) {
                    slotElement.onclick = () => selectTime(slot.time);
                }
                
                timeSlots.appendChild(slotElement);
            });
        }
        
        function selectTime(time) {
            selectedTime = time;
            document.querySelectorAll('.time-slot').forEach(el => el.classList.remove('selected'));
            event.target.classList.add('selected');
            updateBookingSummary();
        }
        
        function selectPayment(type) {
            selectedPayment = type;
            
            // Update UI
            document.querySelectorAll('.payment-option').forEach(option => option.classList.remove('selected'));
            event.target.closest('.payment-option').classList.add('selected');
            
            // Show/hide payment disclaimers
            const venueDisclaimer = document.getElementById('venuePaymentDisclaimer');
            const payNowDisclaimer = document.getElementById('payNowPaymentDisclaimer');
            
            if (type === 'payAtVenue') {
                venueDisclaimer.style.display = 'flex';
                payNowDisclaimer.style.display = 'none';
            } else if (type === 'payNow') {
                venueDisclaimer.style.display = 'none';
                payNowDisclaimer.style.display = 'flex';
            } else {
                venueDisclaimer.style.display = 'none';
                payNowDisclaimer.style.display = 'none';
            }
            
            // Update complete booking button
            updateCompleteBookingButton();
            updateBookingSummary();
        }
        
        function updateCompleteBookingButton() {
            const completeButton = document.getElementById('completeBooking');
            const totalPrice = selectedServices.reduce((sum, s) => sum + s.price, 0);
            const termsAccepted = document.getElementById('acceptTerms').checked;
            
            // Check what's missing
            const missingItems = [];
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            if (!termsAccepted) {
                missingItems.push('Accept Terms');
            }
            if (selectedServices.length === 0) {
                missingItems.push('Select Service');
            }
            if (!selectedDate) {
                missingItems.push('Select Date');
            }
            if (!selectedTime) {
                missingItems.push('Select Time');
            }
            if (!selectedPayment) {
                missingItems.push('Select Payment Method');
            }
            
            // Different validation for logged-in vs guest users
            if (isLoggedIn) {
                // For logged-in users, only phone is required
                if (!phone) {
                    missingItems.push('Enter Phone');
                }
            } else {
                // For guest users, all fields are required
                if (!fullName) {
                    missingItems.push('Enter Name');
                }
                if (!email || !emailRegex.test(email)) {
                    missingItems.push('Enter Valid Email');
                }
                if (!phone) {
                    missingItems.push('Enter Phone');
                }
            }
            
            if (missingItems.length > 0) {
                completeButton.textContent = missingItems.join(', ');
                completeButton.style.background = '#666666';
                completeButton.style.opacity = '0.5';
                completeButton.style.cursor = 'not-allowed';
                completeButton.disabled = true;
                return;
            }
            
            if (selectedPayment === 'payNow') {
                completeButton.textContent = `Pay Now - £${totalPrice}`;
                completeButton.style.background = 'linear-gradient(135deg, #FF3CAC, #784BA0)';
                completeButton.style.opacity = '1';
                completeButton.style.cursor = 'pointer';
                completeButton.disabled = false;
            } else if (selectedPayment === 'payAtVenue') {
                completeButton.textContent = 'Complete Booking';
                completeButton.style.background = 'linear-gradient(135deg, #FF3CAC, #784BA0)';
                completeButton.style.opacity = '1';
                completeButton.style.cursor = 'pointer';
                completeButton.disabled = false;
            }
        }
        
        
        function updateBookingButton() {
            updateCompleteBookingButton();
        }
        
        function updateBookingSummary() {
            // Update services list
            const summaryServicesList = document.getElementById('summaryServicesList');
            summaryServicesList.innerHTML = '';
            
            if (selectedServices.length > 0) {
                selectedServices.forEach(service => {
                    const serviceItem = document.createElement('div');
                    serviceItem.className = 'summary-service-item';
                    serviceItem.innerHTML = `
                        <div class="summary-service-name">${service.name}</div>
                        <div class="summary-service-price">£${service.price}</div>
                        <button class="summary-remove-btn" onclick="removeService('${service.name}')">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    summaryServicesList.appendChild(serviceItem);
                });
                
                const totalDuration = selectedServices.reduce((sum, s) => sum + s.duration, 0);
                document.getElementById('summaryDuration').textContent = `${totalDuration} min`;
                
                const totalPrice = selectedServices.reduce((sum, s) => sum + s.price, 0);
                document.getElementById('summaryTotal').textContent = `£${totalPrice}`;
                
                // Update complete booking button
                updateCompleteBookingButton();
            } else {
                // Clear price and duration when no services
                document.getElementById('summaryDuration').textContent = '0 min';
                document.getElementById('summaryTotal').textContent = '£0';
                console.log('Price and duration cleared - no services selected');
            }
            
            // Update date
            if (selectedDate) {
                document.getElementById('summaryDate').textContent = selectedDate.toLocaleDateString();
            }
            
            // Update time
            if (selectedTime) {
                document.getElementById('summaryTime').textContent = selectedTime;
            }
            
            // Enable button if all required fields are filled
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            const isComplete = selectedServices.length > 0 && selectedDate && selectedTime && 
                             selectedPayment && 
                             document.getElementById('acceptTerms').checked &&
                             fullName && email && phone && emailRegex.test(email);
            
            document.getElementById('completeBooking').disabled = !isComplete;
        }
        
        function completeBooking() {
            console.log('=== BOOKING FLOW DEBUG START ===');
            console.log('Booking button pressed - starting validation');
            console.log('Device Info:', {
                userAgent: navigator.userAgent,
                isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                screenSize: window.innerWidth + 'x' + window.innerHeight,
                touchSupport: 'ontouchstart' in window
            });
            
            // Check if terms are accepted
            const termsAccepted = document.getElementById('acceptTerms').checked;
            console.log('Terms accepted:', termsAccepted);
            if (!termsAccepted) {
                console.log('Terms not accepted');
                alert('Please accept the Terms & Conditions to continue.');
                return;
            }
            
            // Validate required form fields
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            console.log('Form validation - Full Name:', fullName);
            console.log('Form validation - Email:', email);
            console.log('Form validation - Phone:', phone);
            console.log('Form validation - Selected Services:', selectedServices);
            console.log('Form validation - Selected Date:', selectedDate);
            console.log('Form validation - Selected Time:', selectedTime);
            console.log('Form validation - Selected Payment:', selectedPayment);
            
            // For logged-in users, only phone is required (name and email are auto-populated)
            // For guest users, all fields are required
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            if (isLoggedIn) {
                // Only validate phone for logged-in users
                if (!phone) {
                    console.log('Validation failed: No phone (logged-in user)');
                    showInlineError('phone', 'Please enter your phone number.');
                    return;
                }
            } else {
                // Validate all fields for guest users
                if (!fullName) {
                    console.log('Validation failed: No full name (guest user)');
                    showInlineError('fullName', 'Please enter your full name.');
                    return;
                }
                
                if (!email) {
                    console.log('Validation failed: No email (guest user)');
                    showInlineError('email', 'Please enter your email address.');
                    return;
                }
                
                // Basic email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    console.log('Validation failed: Invalid email format');
                    showInlineError('email', 'Please enter a valid email address.');
                    return;
                }
                
                if (!phone) {
                    console.log('Validation failed: No phone (guest user)');
                    showInlineError('phone', 'Please enter your phone number.');
                    return;
                }
            }
            
            // Check if all required fields are filled
            const isComplete = selectedServices.length > 0 && selectedDate && selectedTime && selectedPayment;
            
            if (!isComplete) {
                alert('Please select a service, date, time, and payment method.');
                return;
            }
            
            console.log('Payment method selected:', selectedPayment);
            
            if (selectedPayment === 'payNow') {
                console.log('=== PAY NOW FLOW ===');
                console.log('Redirecting to payment processing...');
                
                // Show loading state
                const completeButton = document.getElementById('completeBooking');
                const originalText = completeButton.textContent;
                completeButton.textContent = 'Processing...';
                completeButton.disabled = true;
                
                try {
                    // Use direct navigation instead of window.open to avoid mobile popup blockers
                    console.log('Attempting redirect to payment-processing.html');
                    
                    // Small delay to show loading state
                    setTimeout(() => {
                        window.location.href = 'payment-processing.html';
                    }, 500);
                    
                } catch (error) {
                    console.error('Payment redirect failed:', error);
                    showErrorMessage('Unable to redirect to payment. Please try again.');
                    
                    // Reset button
                    completeButton.textContent = originalText;
                    completeButton.disabled = false;
                }
            } else if (selectedPayment === 'payAtVenue') {
                console.log('=== PAY AT VENUE FLOW ===');
                console.log('Processing Pay at Venue booking...');
                
                // Show loading state
                const completeButton = document.getElementById('completeBooking');
                const originalText = completeButton.textContent;
                completeButton.textContent = 'Processing...';
                completeButton.disabled = true;
                
                try {
                    // Generate booking ID and secure token for guest cancellation
                    const bookingId = generateBookingId();
                    const isGuest = true; // For demo purposes, assume guest booking
                    
                    console.log('Generated booking ID:', bookingId);
                    console.log('Selected services:', selectedServices);
                    console.log('Selected date:', selectedDate);
                    console.log('Selected time:', selectedTime);
                    
                    // Redirect to confirmation page with booking details
                    const params = new URLSearchParams({
                        payment: 'Pay at Venue',
                        bookingId: bookingId,
                        guest: isGuest.toString(),
                        business: 'Royal Hair Studio',
                        date: selectedDate || 'Saturday, Dec 28, 2024',
                        time: selectedTime || '2:00 PM',
                        services: selectedServices.map(s => s.name).join(', '),
                        total: selectedServices.reduce((sum, s) => sum + s.price, 0).toString()
                    });
                    
                    const confirmationUrl = `booking-confirmation.html?${params.toString()}`;
                    console.log('Redirecting to:', confirmationUrl);
                    
                    // Small delay to show loading state
                    setTimeout(() => {
                        window.location.href = confirmationUrl;
                    }, 500);
                    
                } catch (error) {
                    console.error('Confirmation redirect failed:', error);
                    showErrorMessage('Unable to process booking. Please try again.');
                    
                    // Reset button
                    completeButton.textContent = originalText;
                    completeButton.disabled = false;
                }
            } else {
                console.log('No payment method selected');
                alert('Please select a payment method first.');
            }
        }
        
        function processPayment() {
            // Simulate payment processing
            const paymentMethods = ['Card', 'PayPal', 'Apple Pay', 'Google Pay'];
            const randomMethod = paymentMethods[Math.floor(Math.random() * paymentMethods.length)];
            
            // Simulate payment success/failure (90% success rate for demo)
            const paymentSuccess = Math.random() > 0.1;
            
            if (paymentSuccess) {
                showPaymentSuccessConfirmation(randomMethod);
            } else {
                showPaymentError();
            }
        }
        
        function showPaymentError() {
            // Create error message above payment form
            const paymentSection = document.querySelector('.booking-payment');
            let errorDiv = document.getElementById('payment-error');
            
            if (!errorDiv) {
                errorDiv = document.createElement('div');
                errorDiv.id = 'payment-error';
                errorDiv.style.cssText = `
                    background: #ff4444;
                    color: white;
                    padding: 1rem;
                    border-radius: 8px;
                    margin-bottom: 1rem;
                    text-align: center;
                    font-weight: 600;
                `;
                paymentSection.insertBefore(errorDiv, paymentSection.firstChild);
            }
            
            errorDiv.innerHTML = `
                <i class="fas fa-exclamation-triangle"></i>
                Payment could not be processed. Please try another method.
            `;
            
            // Remove error after 5 seconds
            setTimeout(() => {
                if (errorDiv) {
                    errorDiv.remove();
                }
            }, 5000);
        }
        
        function showPayAtVenueConfirmation() {
            const totalPrice = selectedServices.reduce((sum, s) => sum + s.price, 0);
            const totalDuration = selectedServices.reduce((sum, s) => sum + s.duration, 0);
            const serviceNames = selectedServices.map(s => s.name).join(', ');
            
            // Hide booking form and show confirmation
            document.querySelector('.booking-form').style.display = 'none';
            document.querySelector('.booking-sidebar').style.display = 'none';
            
            // Create confirmation content
            const confirmationHTML = `
                <div class="confirmation-page">
                    <div class="confirmation-header">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
        </div>
                        <h1>Booking Confirmed!</h1>
                        <p class="confirmation-subtitle">Please pay at the venue</p>
                    </div>
                    
                    <div class="confirmation-details">
                        <div class="detail-section">
                            <h3>Booking Details</h3>
                            <div class="detail-item">
                                <span class="detail-label">Services:</span>
                                <span class="detail-value">${serviceNames}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Duration:</span>
                                <span class="detail-value">${totalDuration} minutes</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Total:</span>
                                <span class="detail-value">£${totalPrice}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date:</span>
                                <span class="detail-value">${selectedDate.toLocaleDateString()}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Time:</span>
                                <span class="detail-value">${selectedTime}</span>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Business Details</h3>
                            <div class="business-info">
                                <div class="business-name">Royal Hair Studio</div>
                                <div class="business-address">123 Beauty Street, London SW1A 1AA</div>
                                <div class="business-phone">+44 20 7123 4567</div>
                            </div>
                        </div>
                        
                        <div class="payment-notice">
                            <div class="notice-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="notice-text">
                                <strong>Payment Instructions:</strong><br>
                                Please pay at the venue. Payment will be taken directly by Royal Hair Studio.
                            </div>
                        </div>
                    </div>
                    
                    <div class="confirmation-actions">
                        <button class="btn btn-primary" onclick="addToCalendar()">
                            <i class="fas fa-calendar-plus"></i> Add to Calendar
                        </button>
                        <button class="btn btn-secondary" onclick="goToHome()">
                            <i class="fas fa-home"></i> Back to Home
                        </button>
                    </div>
                </div>
            `;
            
            document.querySelector('.booking-form').innerHTML = confirmationHTML;
            document.querySelector('.booking-form').style.display = 'block';
            
            // Simulate sending confirmation email
            console.log('Sending confirmation email for Pay at Venue booking...');
        }
        
        function showPaymentSuccessConfirmation(paymentMethod) {
            const totalPrice = selectedServices.reduce((sum, s) => sum + s.price, 0);
            const totalDuration = selectedServices.reduce((sum, s) => sum + s.duration, 0);
            const serviceNames = selectedServices.map(s => s.name).join(', ');
            const transactionId = 'TXN-' + Math.random().toString(36).substr(2, 9).toUpperCase();
            
            // Hide booking form and show confirmation
            document.querySelector('.booking-form').style.display = 'none';
            document.querySelector('.booking-sidebar').style.display = 'none';
            
            // Create confirmation content
            const confirmationHTML = `
                <div class="confirmation-page">
                    <div class="confirmation-header">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h1>Payment Successful!</h1>
                        <p class="confirmation-subtitle">Receipt sent to your email</p>
                    </div>
                    
                    <div class="confirmation-details">
                        <div class="detail-section">
                            <h3>Booking Details</h3>
                            <div class="detail-item">
                                <span class="detail-label">Services:</span>
                                <span class="detail-value">${serviceNames}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Duration:</span>
                                <span class="detail-value">${totalDuration} minutes</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Total Paid:</span>
                                <span class="detail-value">£${totalPrice}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date:</span>
                                <span class="detail-value">${selectedDate.toLocaleDateString()}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Time:</span>
                                <span class="detail-value">${selectedTime}</span>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Payment Details</h3>
                            <div class="payment-info">
                                <div class="payment-method">Payment Method: ${paymentMethod}</div>
                                <div class="transaction-id">Transaction ID: ${transactionId}</div>
                                <div class="payment-status">Status: Confirmed (Paid Online)</div>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Business Details</h3>
                            <div class="business-info">
                                <div class="business-name">Royal Hair Studio</div>
                                <div class="business-address">123 Beauty Street, London SW1A 1AA</div>
                                <div class="business-phone">+44 20 7123 4567</div>
                            </div>
                        </div>
                        
                        <div class="success-notice">
                            <div class="notice-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="notice-text">
                                <strong>Payment successful!</strong><br>
                                Your booking is confirmed and payment has been processed.
                            </div>
                        </div>
                    </div>
                    
                    <div class="confirmation-actions">
                        <button class="btn btn-primary" onclick="addToCalendar()">
                            <i class="fas fa-calendar-plus"></i> Add to Calendar
                        </button>
                        <button class="btn btn-secondary" onclick="goToHome()">
                            <i class="fas fa-home"></i> Back to Home
                        </button>
                    </div>
                </div>
            `;
            
            document.querySelector('.booking-form').innerHTML = confirmationHTML;
            document.querySelector('.booking-form').style.display = 'block';
            
            // Simulate sending confirmation email with receipt
            console.log('Sending confirmation email with payment receipt...');
        }
        
        function addToCalendar() {
            // Generate calendar event data
            const eventData = {
                title: 'Hair Appointment at Royal Hair Studio',
                start: '20241215T103000',
                end: '20241215T110000',
                location: '123 Beauty Street, London SW1A 1AA',
                description: 'Hair appointment at Royal Hair Studio'
            };
            
            // Create Google Calendar URL
            const googleUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(eventData.title)}&dates=${eventData.start}/${eventData.end}&location=${encodeURIComponent(eventData.location)}&details=${encodeURIComponent(eventData.description)}`;
            
            // Open in new tab
            window.open(googleUrl, '_blank');
        }
        
        function goToHome() {
            window.location.href = 'index.html';
        }
        
        function callBusiness() {
            alert('Calling Royal Hair Studio...\n\nPhone: +44 20 7123 4567\n\nThis would normally initiate a phone call on mobile devices.');
        }
        
        function generateBookingId() {
            const timestamp = Date.now().toString(36);
            const random = Math.random().toString(36).substr(2, 5);
            return `BP${timestamp}${random}`.toUpperCase();
        }
        
        function showErrorMessage(message) {
            // Create error message element
            const errorDiv = document.createElement('div');
            errorDiv.id = 'booking-error';
            errorDiv.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: #DC2626;
                color: white;
                padding: 1rem 2rem;
                border-radius: 8px;
                z-index: 1000;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                font-weight: 500;
                max-width: 90%;
                text-align: center;
            `;
            errorDiv.textContent = message;
            
            // Remove existing error if any
            const existingError = document.getElementById('booking-error');
            if (existingError) {
                existingError.remove();
            }
            
            // Add to page
            document.body.appendChild(errorDiv);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 5000);
        }
        
        function showInlineError(fieldId, message) {
            // Remove existing error for this field
            const existingError = document.getElementById(`${fieldId}-error`);
            if (existingError) {
                existingError.remove();
            }
            
            // Create inline error message
            const errorDiv = document.createElement('div');
            errorDiv.id = `${fieldId}-error`;
            errorDiv.style.cssText = `
                color: #DC2626;
                font-size: 0.8rem;
                margin-top: 0.25rem;
                font-weight: 500;
            `;
            errorDiv.textContent = message;
            
            // Find the field and add error after it
            const field = document.getElementById(fieldId);
            if (field && field.parentNode) {
                field.parentNode.insertBefore(errorDiv, field.nextSibling);
                
                // Add red border to field
                field.style.borderColor = '#DC2626';
                
                // Remove error and border when user starts typing
                field.addEventListener('input', function() {
                    errorDiv.remove();
                    field.style.borderColor = '';
                });
            }
        }
        
        // Add form input listeners
        document.addEventListener('DOMContentLoaded', function() {
            const formInputs = ['fullName', 'email', 'phone'];
            formInputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                if (input) {
                    input.addEventListener('input', function() {
                        updateBookingSummary();
                        updateCompleteBookingButton();
                    });
                    input.addEventListener('blur', updateCompleteBookingButton);
                }
            });
            
            // Add event listener to terms checkbox
            const termsCheckbox = document.getElementById('acceptTerms');
            if (termsCheckbox) {
                termsCheckbox.addEventListener('change', updateCompleteBookingButton);
            }
            
            // Add event listeners to payment method selection
            const paymentMethods = document.querySelectorAll('input[name="paymentMethod"]');
            paymentMethods.forEach(method => {
                method.addEventListener('change', updateCompleteBookingButton);
            });
            
            // Add comprehensive event listeners to Complete Booking button
            const completeButton = document.getElementById('completeBooking');
            if (completeButton) {
                // Remove any existing onclick handlers
                completeButton.removeAttribute('onclick');
                
                // Add click event listener
                completeButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Complete booking button clicked (click event)');
                    completeBooking();
                });
                
                // Add touch event listener for mobile
                completeButton.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Complete booking button touched (touch event)');
                    completeBooking();
                });
                
                // Add mousedown event as backup
                completeButton.addEventListener('mousedown', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Complete booking button mousedown');
                    completeBooking();
                });
            }
        });
        
        // Initialize gallery
        showSlide(0);
        
        // Mobile debugging function
        function debugMobileBooking() {
            console.log('=== MOBILE BOOKING DEBUG ===');
            console.log('User Agent:', navigator.userAgent);
            console.log('Is Mobile:', /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));
            console.log('Screen Size:', window.innerWidth + 'x' + window.innerHeight);
            console.log('Touch Support:', 'ontouchstart' in window);
            console.log('Complete Button Element:', document.getElementById('completeBooking'));
            console.log('Button Disabled:', document.getElementById('completeBooking').disabled);
            console.log('Button Style:', window.getComputedStyle(document.getElementById('completeBooking')));
            console.log('Selected Services:', selectedServices);
            console.log('Selected Date:', selectedDate);
            console.log('Selected Time:', selectedTime);
            console.log('Selected Payment:', selectedPayment);
            console.log('Terms Accepted:', document.getElementById('acceptTerms').checked);
            console.log('=== END DEBUG ===');
        }
        
        // Add debug button for testing (remove in production)
        if (window.location.search.includes('debug=true')) {
            const debugButton = document.createElement('button');
            debugButton.textContent = 'Debug Mobile Booking';
            debugButton.style.cssText = `
                position: fixed;
                top: 10px;
                right: 10px;
                z-index: 1000;
                background: #FF3CAC;
                color: white;
                border: none;
                padding: 0.5rem;
                border-radius: 4px;
                font-size: 0.8rem;
            `;
            debugButton.onclick = debugMobileBooking;
            document.body.appendChild(debugButton);
            
            // Add test data auto-fill button
            const testDataButton = document.createElement('button');
            testDataButton.textContent = 'Fill Test Data';
            testDataButton.style.cssText = `
                position: fixed;
                top: 50px;
                right: 10px;
                z-index: 1000;
                background: #2B86C5;
                color: white;
                border: none;
                padding: 0.5rem;
                border-radius: 4px;
                font-size: 0.8rem;
            `;
            testDataButton.onclick = fillTestData;
            document.body.appendChild(testDataButton);
        }
        
        // Auto-fill test data for testing
        function fillTestData() {
            console.log('Filling test data...');
            
            // Fill form fields
            document.getElementById('fullName').value = 'Test User';
            document.getElementById('email').value = 'test@example.com';
            document.getElementById('phone').value = '07123456789';
            
            // Add booking note if field exists
            const bookingNotesField = document.getElementById('bookingNotes');
            if (bookingNotesField) {
                bookingNotesField.value = 'Test booking, ignore';
            }
            
            // Accept terms
            document.getElementById('acceptTerms').checked = true;
            
            // Trigger validation updates
            updateCompleteBookingButton();
            updateBookingSummary();
            
            console.log('Test data filled successfully');
            alert('Test data filled! Now select a service, date, time, and payment method.');
        }
        
        // Navigation Functions
        function toggleLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.toggle('hidden');
            }
        }
        
        function toggleCustomerMenu() {
            const dropdown = document.getElementById('customerDropdown');
            const mobileDropdown = document.getElementById('mobileCustomerDropdown');
            
            if (dropdown) {
                dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
            }
            if (mobileDropdown) {
                mobileDropdown.style.display = mobileDropdown.style.display === 'none' ? 'block' : 'none';
            }
        }
        
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            if (menu) {
                menu.classList.toggle('hidden');
            }
        }
        
        function handleLogin(event) {
            event.preventDefault();
            // Simulate login
            const email = event.target.querySelector('input[type="email"]').value;
            const password = event.target.querySelector('input[type="password"]').value;
            
            // Simple validation
            if (email === 'customer@example.com' && password === 'password123') {
                // Show customer menu, hide login
                document.getElementById('authLinks').style.display = 'none';
                document.getElementById('mobileAuthLinks').style.display = 'none';
                document.getElementById('customerMenu').style.display = 'block';
                document.getElementById('mobileCustomerMenu').style.display = 'block';
                
                // Close modal
                toggleLoginModal();
                
                // Show success message
                alert('Login successful!');
            } else {
                alert('Invalid credentials. Use customer@example.com / password123');
            }
        }
        
        function signOut() {
            // Hide customer menu, show login
            document.getElementById('authLinks').style.display = 'flex';
            document.getElementById('mobileAuthLinks').style.display = 'flex';
            document.getElementById('customerMenu').style.display = 'none';
            document.getElementById('mobileCustomerMenu').style.display = 'none';
            
            // Close any open dropdowns
            document.getElementById('customerDropdown').style.display = 'none';
            document.getElementById('mobileCustomerDropdown').style.display = 'none';
            
            alert('Signed out successfully!');
        }
        
        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            const customerMenu = document.getElementById('customerMenu');
            const mobileCustomerMenu = document.getElementById('mobileCustomerMenu');
            
            if (customerMenu && !customerMenu.contains(event.target)) {
                document.getElementById('customerDropdown').style.display = 'none';
            }
            if (mobileCustomerMenu && !mobileCustomerMenu.contains(event.target)) {
                document.getElementById('mobileCustomerDropdown').style.display = 'none';
            }
        });
    </script>
</body>
</html>