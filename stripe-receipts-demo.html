<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stripe Receipts Demo - Black Pages</title>
    <link rel="stylesheet" href="css/stripe-receipts.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #121212 0%, #1A1A1A 50%, #0F0F0F 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .demo-header h1 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .demo-header p {
            color: #999;
            font-size: 1.1rem;
        }
        
        .demo-section {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid #333;
        }
        
        .demo-section h2 {
            color: #fff;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #333;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        .feature-card h3 {
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-card p {
            color: #ccc;
            margin: 0;
            line-height: 1.5;
        }
        
        .test-controls {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .test-controls h3 {
            color: #fff;
            margin-bottom: 15px;
        }
        
        .test-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn-test {
            background: #3b82f6;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-test:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }
        
        .btn-test.success {
            background: #4ade80;
            color: #000;
        }
        
        .btn-test.success:hover {
            background: #22c55e;
        }
        
        .btn-test.warning {
            background: #f59e0b;
            color: #000;
        }
        
        .btn-test.warning:hover {
            background: #d97706;
        }
        
        .btn-test.danger {
            background: #ef4444;
            color: #fff;
        }
        
        .btn-test.danger:hover {
            background: #dc2626;
        }
        
        .receipt-preview {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .receipt-preview h4 {
            color: #fff;
            margin-bottom: 15px;
        }
        
        .receipt-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .receipt-preview-item {
            background: #1a1a1a;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #333;
        }
        
        .receipt-preview-item h5 {
            color: #fff;
            margin-bottom: 8px;
            font-size: 1rem;
        }
        
        .receipt-preview-item p {
            color: #ccc;
            margin: 0;
            font-size: 0.9rem;
        }
        
        .integration-info {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .integration-info h4 {
            color: #fff;
            margin-bottom: 15px;
        }
        
        .integration-steps {
            color: #ccc;
            line-height: 1.6;
        }
        
        .integration-steps ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .integration-steps li {
            margin-bottom: 8px;
        }
        
        .code-block {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            color: #4ade80;
            font-size: 0.9rem;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <!-- Header -->
        <div class="demo-header">
            <h1>Stripe Receipts Demo</h1>
            <p>Test the automatic receipt generation and email system</p>
        </div>

        <!-- Features Overview -->
        <div class="demo-section">
            <h2>âœ¨ Receipt System Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-receipt"></i> Automatic Generation</h3>
                    <p>Stripe automatically generates receipts for all successful payments, ensuring customers always receive proper documentation.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-envelope"></i> Email Confirmations</h3>
                    <p>Customers receive professional receipt emails immediately after payment completion with all booking details.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-chart-line"></i> Business Dashboard</h3>
                    <p>Businesses can view, filter, and manage all receipts in their dashboard with detailed analytics and reporting.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-download"></i> Download & Print</h3>
                    <p>Receipts can be downloaded as PDF or HTML files for record keeping and tax purposes.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-undo"></i> Refund Receipts</h3>
                    <p>Automatic refund receipts are generated when refunds are processed, maintaining complete transaction history.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-mobile-alt"></i> Mobile Responsive</h3>
                    <p>Receipts display perfectly on all devices with professional formatting and easy-to-read layouts.</p>
                </div>
            </div>
        </div>

        <!-- Test Controls -->
        <div class="demo-section">
            <h2>ðŸ§ª Test Receipt Generation</h2>
            <div class="test-controls">
                <h3>Generate Test Receipts</h3>
                <div class="test-buttons">
                    <button class="btn-test success" onclick="generatePaymentReceipt()">
                        <i class="fas fa-credit-card"></i> Generate Payment Receipt
                    </button>
                    <button class="btn-test warning" onclick="generateRefundReceipt()">
                        <i class="fas fa-undo"></i> Generate Refund Receipt
                    </button>
                    <button class="btn-test" onclick="testEmailSystem()">
                        <i class="fas fa-envelope"></i> Test Email System
                    </button>
                    <button class="btn-test" onclick="viewBusinessDashboard()">
                        <i class="fas fa-chart-line"></i> View Business Dashboard
                    </button>
                </div>
            </div>
        </div>

        <!-- Receipt Preview -->
        <div class="demo-section">
            <h2>ðŸ“„ Receipt Preview</h2>
            <div class="receipt-preview">
                <h4>Sample Receipt Data</h4>
                <div class="receipt-preview-grid">
                    <div class="receipt-preview-item">
                        <h5>Customer Information</h5>
                        <p>Name: Sarah Johnson<br>
                        Email: sarah.johnson@email.com<br>
                        Phone: +44 7700 900123</p>
                    </div>
                    <div class="receipt-preview-item">
                        <h5>Service Details</h5>
                        <p>Service: Haircut & Styling<br>
                        Date: January 20, 2024<br>
                        Time: 2:00 PM</p>
                    </div>
                    <div class="receipt-preview-item">
                        <h5>Payment Information</h5>
                        <p>Amount: Â£45.00<br>
                        Method: Card Payment<br>
                        Status: Completed</p>
                    </div>
                    <div class="receipt-preview-item">
                        <h5>Receipt Details</h5>
                        <p>Receipt #: RCP-ABC123456<br>
                        Generated: Jan 15, 2024<br>
                        Transaction: pi_1234567890</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Integration Information -->
        <div class="demo-section">
            <h2>ðŸ”§ Stripe Integration</h2>
            <div class="integration-info">
                <h4>Automatic Receipt Configuration</h4>
                <div class="integration-steps">
                    <p>To enable automatic receipt generation in your Stripe account:</p>
                    <ol>
                        <li>Log into your Stripe Dashboard</li>
                        <li>Navigate to Settings â†’ Billing â†’ Receipts</li>
                        <li>Enable "Automatically send receipts"</li>
                        <li>Configure your business information</li>
                        <li>Set up custom receipt templates (optional)</li>
                    </ol>
                    
                    <div class="code-block">
// Stripe Configuration Example
const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);

// Enable automatic receipts
await stripe.accounts.update('acct_1234567890', {
  settings: {
    payouts: {
      schedule: {
        interval: 'daily'
      }
    }
  }
});
                    </div>
                </div>
            </div>
        </div>

        <!-- Email Templates -->
        <div class="demo-section">
            <h2>ðŸ“§ Email Template Examples</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-check-circle"></i> Payment Confirmation</h3>
                    <p><strong>Subject:</strong> Receipt for your booking at Hair Studio Pro<br>
                    <strong>Content:</strong> Professional receipt with booking details, payment information, and business contact details.</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-undo"></i> Refund Confirmation</h3>
                    <p><strong>Subject:</strong> Refund receipt for your booking at Hair Studio Pro<br>
                    <strong>Content:</strong> Refund details, original payment information, and processing timeline.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/stripe-receipts.js"></script>
    <script>
        // Test functions
        function generatePaymentReceipt() {
            const paymentData = {
                customerName: 'Sarah Johnson',
                customerEmail: 'sarah.johnson@email.com',
                customerPhone: '+44 7700 900123',
                businessName: 'Hair Studio Pro',
                businessAddress: '123 High Street, London',
                businessPhone: '+44 20 7123 4567',
                businessEmail: 'info@hairstudiopro.com',
                serviceName: 'Haircut & Styling',
                serviceDescription: 'Full haircut and styling service',
                serviceDate: '2024-01-20',
                serviceTime: '14:00',
                amount: 45.00,
                currency: 'GBP',
                paymentMethod: 'card',
                stripePaymentIntentId: 'pi_' + Math.random().toString(36).substr(2, 9),
                stripeReceiptUrl: 'https://pay.stripe.com/receipts/test'
            };

            // Trigger payment completion event
            const event = new CustomEvent('paymentCompleted', {
                detail: paymentData
            });
            document.dispatchEvent(event);
        }

        function generateRefundReceipt() {
            const refundData = {
                customer: {
                    name: 'Emma Wilson',
                    email: 'emma.wilson@email.com',
                    phone: '+44 7700 900789'
                },
                business: {
                    name: 'Hair Studio Pro',
                    address: '123 High Street, London',
                    phone: '+44 20 7123 4567',
                    email: 'info@hairstudiopro.com'
                },
                service: {
                    name: 'Hair Treatment',
                    description: 'Deep conditioning treatment',
                    date: '2024-01-25',
                    time: '16:00'
                },
                originalAmount: 80.00,
                refundAmount: 80.00,
                currency: 'GBP',
                stripeRefundId: 're_' + Math.random().toString(36).substr(2, 9),
                stripeReceiptUrl: 'https://pay.stripe.com/receipts/refund_test'
            };

            // Trigger refund completion event
            const event = new CustomEvent('refundCompleted', {
                detail: refundData
            });
            document.dispatchEvent(event);
        }

        function testEmailSystem() {
            alert('Email system test would send actual receipt emails to customers');
        }

        function viewBusinessDashboard() {
            window.open('business-dashboard-receipts.html', '_blank');
        }
    </script>
</body>
</html>
